$(document).ready(function(){$(window).resize(function(){var e=document.getElementById("js-navigation-more");if($(e).length>0){var t=$(window).width(),n=$(e).offset().left,o=t-n;o<330&&($("#js-navigation-more .submenu .submenu").removeClass("fly-out-right"),$("#js-navigation-more .submenu .submenu").addClass("fly-out-left")),o>330&&($("#js-navigation-more .submenu .submenu").removeClass("fly-out-left"),$("#js-navigation-more .submenu .submenu").addClass("fly-out-right"))}}),$(document).ready(function(){var e=$("#js-mobile-menu").unbind();$("#js-navigation-menu").removeClass("show"),e.on("click",function(e){e.preventDefault(),$("#js-navigation-menu").slideToggle(function(){$("#js-navigation-menu").is(":hidden")&&$("#js-navigation-menu").removeAttr("style")})})});var e=$(".slider").glide().data("api_glide");$(window).on("keyup",function(t){13===t.keyCode&&e.jump(3,console.log("Wooo!"))}),$(".slider-arrow").on("click",function(){console.log(e.current())}),myCarousel=function(){function e(){var e=document.querySelector(".left"),t=document.querySelector(".center"),n=document.querySelector(".right");e.innerHTML=i.itemCarousel[i.countLeft++],i.countLeft===i.itemCarousel.length&&(i.countLeft=0),i.countRight++,i.countRight===i.itemCarousel.length&&(i.countRight=0),t.className="left",n.className="center",e.className="right first"}function t(){var e=i.containerCarousel.querySelector(".left"),t=i.containerCarousel.querySelector(".center"),n=i.containerCarousel.querySelector(".right");n.innerHTML=i.itemCarousel[i.countRight--],i.countRight==-1&&(i.countRight=i.itemCarousel.length-1),i.countLeft--,i.countLeft===-1&&(i.countLeft=i.itemCarousel.length-1),t.className="right",e.className="center",n.className="left first"}function n(){if(i.listCarousel.length>2){3===i.listCarousel.length?(i.countLeft=0,i.countRight=2):(i.countLeft=3,i.countRight=i.listCarousel.length-1);for(var e=i.listCarousel.length-1;e>=0;e--)i.maxHeigth<i.listCarousel[e].offsetHeight&&(i.maxHeigth=i.listCarousel[e].offsetHeight),i.itemCarousel[e]=i.listCarousel[e].innerHTML,i.listCarousel[e].remove();for(var t=2;t>=0;t--)i.containerCarousel.appendChild(i.listCarousel[t]);i.listCarousel[0].className="left",i.listCarousel[1].className="center",i.listCarousel[2].className="right",i.containerCarousel.style.height=i.maxHeigth+"px",o()}}function o(){var n=document.createElement("div"),o=document.createElement("div");n.className="left-btn",n.onclick=e,o.onclick=t,o.className="right-btn",i.pagination.className="paginator",i.pagination.appendChild(n),i.pagination.appendChild(o),i.containerCarousel.parentNode.appendChild(i.pagination)}function a(){n(),setInterval(e,1e7)}var i={containerCarousel:document.querySelector(".carousel"),listCarousel:document.querySelectorAll(".carousel li"),itemCarousel:[],countLeft:0,countRight:0,maxHeigth:0,pagination:document.createElement("div")};a()},myCarousel();var t=function(){var e=new google.maps.LatLng(51.089709,71.447923),t=new google.maps.LatLng(51.089709,71.447923),n=document.getElementById("map_canvas"),o={center:t,zoom:13,scrollwheel:!1,draggable:!0,disableDefaultUI:!0,mapTypeId:google.maps.MapTypeId.ROADMAP},a=new google.maps.Map(n,o),i='<div id="content"><div id="siteNotice"></div><h1 id="firstHeading" class="firstHeading">thoughtbot</h1><div id="bodyContent"<p>Sveav√§gen 98</p></div></div>',l=new google.maps.InfoWindow({content:i,maxWidth:300}),s=new google.maps.Marker({position:e,map:a,title:"thoughtbot (Sweden)"});return{init:function(){a.set("styles",[{featureType:"landscape",elementType:"geometry",stylers:[{hue:"#ffff00"},{saturation:30},{lightness:10}]}]),google.maps.event.addListener(s,"click",function(){l.open(a,s)})}}}();t.init()});
!function(t,a,n,r){function e(r,e){var o=this;return o.options=t.extend({},i,e),o.parent=r,o.wrapper=o.parent.children(),o.slides=o.wrapper.children(),o.currentSlide=0,o.CSS3support=!0,o.options.beforeInit.call(o),o.init(),o.build(),o.play(),o.options.touchDistance&&o.swipe(),o.options.keyboard&&t(n).on("keyup",function(t){39===t.keyCode&&o.slide(1),37===t.keyCode&&o.slide(-1)}),o.options.hoverpause&&o.parent.add(o.arrows).add(o.nav).on("mouseover mouseout",function(t){o.pause(),"mouseout"===t.type&&o.play()}),t(a).on("resize",function(){o.init(),o.slide(0)}),o.options.afterInit.call(o),{current:function(){return-o.currentSlide+1},play:function(){o.play()},pause:function(){o.pause()},next:function(t){o.slide(1,!1,t)},prev:function(t){o.slide(-1,!1,t)},jump:function(t,a){o.slide(t-1,!0,a)},nav:function(t){o.navWrapper&&o.navWrapper.remove(),o.options.nav=t?t:o.options.nav,o.navigation()},arrows:function(t){o.arrowsWrapper&&o.arrowsWrapper.remove(),o.options.arrows=t?t:o.options.arrows,o.arrows()}}}function o(t){var e=!1,o="Khtml ms O Moz Webkit".split(" "),s=n.createElement("div"),i=null;if(t=t.toLowerCase(),s.style[t]!==r&&(e=!0),e===!1){i=t.charAt(0).toUpperCase()+t.substr(1);for(var p=0;p<o.length;p++)if(s.style[o[p]+i]!==r){e=!0;break}}return a.opera&&a.opera.version()<13&&(e=!1),e}var s="glide",i={autoplay:!1,hoverpause:!0,animationTime:500,arrows:!0,arrowsWrapperClass:"slider-arrows",arrowMainClass:"slider-arrow",arrowRightClass:"slider-arrow--right",arrowRightText:"",arrowLeftClass:"slider-arrow--left",arrowLeftText:"",nav:!0,navCenter:!0,navClass:"slider-nav",navItemClass:"slider-nav__item",navCurrentItemClass:"slider-nav__item--current",keyboard:!0,touchDistance:60,beforeInit:function(){},afterInit:function(){},beforeTransition:function(){},afterTransition:function(){}};e.prototype.build=function(){var t=this;t.options.arrows&&t.arrows(),t.options.nav&&t.navigation()},e.prototype.navigation=function(){var a=this;if(a.slides.length>1){var n=a.options,r=a.options.nav===!0?a.parent:a.options.nav;a.navWrapper=t("<div />",{"class":n.navClass}).appendTo(r);for(var e,o=a.navWrapper,s=0;s<a.slides.length;s++)e=t("<a />",{href:"#","class":n.navItemClass,"data-distance":s}).appendTo(o),o[s+1]=e;var i=o.children();i.eq(0).addClass(n.navCurrentItemClass),n.navCenter&&o.css({left:"50%",width:i.outerWidth(!0)*i.length,"margin-left":"-60px"}),i.on("click touchstart",function(n){n.preventDefault(),a.slide(t(this).data("distance"),!0)})}},e.prototype.arrows=function(){var a=this;if(a.slides.length>1){var n=a.options,r=a.options.arrows===!0?a.parent:a.options.arrows;a.arrowsWrapper=t("<div />",{"class":n.arrowsWrapperClass}).appendTo(r);var e=a.arrowsWrapper;e.right=t("<a />",{href:"#","class":n.arrowMainClass+" "+n.arrowRightClass,"data-distance":"1",html:n.arrowRightText}).appendTo(e),e.left=t("<a />",{href:"#","class":n.arrowMainClass+" "+n.arrowLeftClass,"data-distance":"-1",html:n.arrowLeftText}).appendTo(e),e.children().on("click touchstart",function(n){n.preventDefault(),a.slide(t(this).data("distance"),!1)})}},e.prototype.slide=function(t,a,n){var r=this;r.pause(),r.options.beforeTransition.call(r);var e=a?0:r.currentSlide,o=-(r.slides.length-1),s=r.options.navCurrentItemClass,i=r.slides.spread;0===e&&t===-1?e=o:e===o&&1===t?e=0:e+=-t;var p=i*e+"px";r.CSS3support?r.wrapper.css({"-webkit-transform":"translate3d("+p+", 0px, 0px)","-moz-transform":"translate3d("+p+", 0px, 0px)","-ms-transform":"translate3d("+p+", 0px, 0px)","-o-transform":"translate3d("+p+", 0px, 0px)",transform:"translate3d("+p+", 0px, 0px)"}):r.wrapper.stop().animate({"margin-left":p},r.options.animationTime),r.options.nav&&r.navWrapper&&r.navWrapper.children().eq(-e).addClass(s).siblings().removeClass(s),r.currentSlide=e,r.options.afterTransition.call(r),"undefined"!==n&&"function"==typeof n&&n(),r.play()},e.prototype.play=function(){var t=this;t.options.autoplay&&(t.auto=setInterval(function(){t.slide(1,!1)},t.options.autoplay))},e.prototype.pause=function(){var t=this;t.options.autoplay&&(t.auto=clearInterval(t.auto))},e.prototype.swipe=function(){var t,a,n,r,e,o,s,i,p,l,u,d,c,f=this,h=180/Math.PI;f.parent.on("touchstart",function(a){t=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0],n=t.pageX,r=t.pageY}),f.parent.on("touchmove",function(a){t=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0],e=t.pageX,o=t.pageY,l=e-n,u=o-r,d=Math.abs(l<<2),c=Math.abs(u<<2),s=Math.sqrt(d+c),i=Math.sqrt(c),p=Math.asin(i/s),p*h<32&&a.preventDefault()}),f.parent.on("touchend",function(r){t=r.originalEvent.touches[0]||r.originalEvent.changedTouches[0],a=t.pageX-n,a>f.options.touchDistance?f.slide(-1):a<-f.options.touchDistance&&f.slide(1)})},e.prototype.init=function(){var t=this,a=t.parent.width();t.slides.spread=a,t.wrapper.width(a*t.slides.length),t.slides.width(t.slides.spread),o("transition")&&o("transform")||(t.CSS3support=!1)},t.fn[s]=function(a){return this.each(function(){t.data(this,"api_"+s)||t.data(this,"api_"+s,new e(t(this),a))})}}(jQuery,window,document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyIsImpxdWVyeS5nbGlkZS5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsIndpbmRvdyIsInJlc2l6ZSIsIm1vcmUiLCJnZXRFbGVtZW50QnlJZCIsImxlbmd0aCIsIndpbmRvd1dpZHRoIiwid2lkdGgiLCJtb3JlTGVmdFNpZGVUb1BhZ2VMZWZ0U2lkZSIsIm9mZnNldCIsImxlZnQiLCJtb3JlTGVmdFNpZGVUb1BhZ2VSaWdodFNpZGUiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwibWVudVRvZ2dsZSIsInVuYmluZCIsIm9uIiwiZSIsInByZXZlbnREZWZhdWx0Iiwic2xpZGVUb2dnbGUiLCJpcyIsInJlbW92ZUF0dHIiLCJnbGlkZSIsImRhdGEiLCJrZXkiLCJrZXlDb2RlIiwianVtcCIsImNvbnNvbGUiLCJsb2ciLCJjdXJyZW50IiwibXlDYXJvdXNlbCIsIm1vdmVMZWZ0IiwicXVlcnlTZWxlY3RvciIsImNlbnRlciIsInJpZ2h0IiwiaW5uZXJIVE1MIiwiY2Fyb3VzZWwiLCJpdGVtQ2Fyb3VzZWwiLCJjb3VudExlZnQiLCJjb3VudFJpZ2h0IiwiY2xhc3NOYW1lIiwibW92ZVJpZ2h0IiwiY29udGFpbmVyQ2Fyb3VzZWwiLCJidWlsZENhcm91c2VsIiwibGlzdENhcm91c2VsIiwiaSIsIm1heEhlaWd0aCIsIm9mZnNldEhlaWdodCIsInJlbW92ZSIsImoiLCJhcHBlbmRDaGlsZCIsInN0eWxlIiwiaGVpZ2h0IiwiYWRkUGFnaW5hdG9yIiwiYnRuTGVmdCIsImNyZWF0ZUVsZW1lbnQiLCJidG5SaWdodCIsIm9uY2xpY2siLCJwYWdpbmF0aW9uIiwicGFyZW50Tm9kZSIsInN0YXJ0Iiwic2V0SW50ZXJ2YWwiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYml0dGVyc01hcCIsIm15TGF0bG5nIiwiZ29vZ2xlIiwibWFwcyIsIkxhdExuZyIsIm1hcENlbnRlciIsIm1hcENhbnZhcyIsIm1hcE9wdGlvbnMiLCJ6b29tIiwic2Nyb2xsd2hlZWwiLCJkcmFnZ2FibGUiLCJkaXNhYmxlRGVmYXVsdFVJIiwibWFwVHlwZUlkIiwiTWFwVHlwZUlkIiwiUk9BRE1BUCIsIm1hcCIsIk1hcCIsImNvbnRlbnRTdHJpbmciLCJpbmZvd2luZG93IiwiSW5mb1dpbmRvdyIsImNvbnRlbnQiLCJtYXhXaWR0aCIsIm1hcmtlciIsIk1hcmtlciIsInBvc2l0aW9uIiwidGl0bGUiLCJpbml0Iiwic2V0IiwiZmVhdHVyZVR5cGUiLCJlbGVtZW50VHlwZSIsInN0eWxlcnMiLCJodWUiLCJzYXR1cmF0aW9uIiwibGlnaHRuZXNzIiwiZXZlbnQiLCJhZGRMaXN0ZW5lciIsIm9wZW4iLCJ1bmRlZmluZWQiLCJHbGlkZSIsInBhcmVudCIsIm9wdGlvbnMiLCJfIiwidGhpcyIsImV4dGVuZCIsImRlZmF1bHRzIiwid3JhcHBlciIsImNoaWxkcmVuIiwic2xpZGVzIiwiY3VycmVudFNsaWRlIiwiQ1NTM3N1cHBvcnQiLCJiZWZvcmVJbml0IiwiY2FsbCIsImJ1aWxkIiwicGxheSIsInRvdWNoRGlzdGFuY2UiLCJzd2lwZSIsImtleWJvYXJkIiwiayIsInNsaWRlIiwiaG92ZXJwYXVzZSIsImFkZCIsImFycm93cyIsIm5hdiIsInBhdXNlIiwidHlwZSIsImFmdGVySW5pdCIsIm5leHQiLCJjYWxsYmFjayIsInByZXYiLCJkaXN0YW5jZSIsInRhcmdldCIsIm5hdldyYXBwZXIiLCJuYXZpZ2F0aW9uIiwiYXJyb3dzV3JhcHBlciIsImlzQ3NzU3VwcG9ydGVkIiwiZGVjbGFyYXRpb24iLCJpc1N1cHBvcnRlZCIsInByZWZpeGVzIiwic3BsaXQiLCJjbG9uZSIsImRlY2xhcmF0aW9uQ2FwaXRhbCIsInRvTG93ZXJDYXNlIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzdWJzdHIiLCJvcGVyYSIsInZlcnNpb24iLCJuYW1lIiwiYXV0b3BsYXkiLCJhbmltYXRpb25UaW1lIiwiYXJyb3dzV3JhcHBlckNsYXNzIiwiYXJyb3dNYWluQ2xhc3MiLCJhcnJvd1JpZ2h0Q2xhc3MiLCJhcnJvd1JpZ2h0VGV4dCIsImFycm93TGVmdENsYXNzIiwiYXJyb3dMZWZ0VGV4dCIsIm5hdkNlbnRlciIsIm5hdkNsYXNzIiwibmF2SXRlbUNsYXNzIiwibmF2Q3VycmVudEl0ZW1DbGFzcyIsImJlZm9yZVRyYW5zaXRpb24iLCJhZnRlclRyYW5zaXRpb24iLCJwcm90b3R5cGUiLCJvIiwiY2xhc3MiLCJhcHBlbmRUbyIsIml0ZW0iLCJocmVmIiwiZGF0YS1kaXN0YW5jZSIsIm5hdkNoaWxkcmVuIiwiZXEiLCJjc3MiLCJvdXRlcldpZHRoIiwibWFyZ2luLWxlZnQiLCJodG1sIiwic2xpZGVzTGVuZ3RoIiwibmF2Q3VycmVudENsYXNzIiwic2xpZGVzU3ByZWFkIiwic3ByZWFkIiwidHJhbnNsYXRlIiwiLXdlYmtpdC10cmFuc2Zvcm0iLCItbW96LXRyYW5zZm9ybSIsIi1tcy10cmFuc2Zvcm0iLCItby10cmFuc2Zvcm0iLCJ0cmFuc2Zvcm0iLCJzdG9wIiwiYW5pbWF0ZSIsInNpYmxpbmdzIiwiYXV0byIsImNsZWFySW50ZXJ2YWwiLCJ0b3VjaCIsInRvdWNoU3RhcnRYIiwidG91Y2hTdGFydFkiLCJ0b3VjaEVuZFgiLCJ0b3VjaEVuZFkiLCJ0b3VjaEh5cG90ZW51c2UiLCJ0b3VjaENhdGhldHVzIiwidG91Y2hTaW4iLCJzdWJFeFN4Iiwic3ViRXlTeSIsInBvd0VYIiwicG93RVkiLCJNYXRoUEkiLCJNYXRoIiwiUEkiLCJvcmlnaW5hbEV2ZW50IiwidG91Y2hlcyIsImNoYW5nZWRUb3VjaGVzIiwicGFnZVgiLCJwYWdlWSIsImFicyIsInNxcnQiLCJhc2luIiwic2xpZGVyV2lkdGgiLCJmbiIsImVhY2giLCJqUXVlcnkiXSwibWFwcGluZ3MiOiJBQUFBQSxFQUFFQyxVQUFVQyxNQUFNLFdBQ2hCRixFQUFFRyxRQUFRQyxPQUFPLFdBQ2YsR0FBSUMsR0FBT0osU0FBU0ssZUFBZSxxQkFDbkMsSUFBSU4sRUFBRUssR0FBTUUsT0FBUyxFQUFHLENBQ3RCLEdBQUlDLEdBQWNSLEVBQUVHLFFB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QU96RyxRQUV2Q21HLEVBQUVNLE9BQU92RyxNQUFNaUcsRUFBRU0sT0FBT3VFLFFBR25CNUMsRUFBZSxlQUFrQkEsRUFBZSxlQUFlakMsRUFBRVEsYUFBYyxJQXFDdEZsSCxFQUFFMk4sR0FBR25FLEdBQVEsU0FBUy9DLEdBRXJCLE1BQU9FLE1BQUtpSCxLQUFLLFdBQ1Y1TixFQUFFeUIsS0FBS2tGLEtBQU0sT0FBUzZDLElBQzNCeEosRUFBRXlCLEtBQUtrRixLQUFNLE9BQVM2QyxFQUNyQixHQUFJakQsR0FBTXZHLEVBQUUyRyxNQUFPRixRQU9yQm9ILE9BQVExTixPQUFRRiIsImZpbGUiOiJwcm9kdWN0aW9uLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XHJcbiAgJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbigpIHtcclxuICAgIHZhciBtb3JlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJqcy1uYXZpZ2F0aW9uLW1vcmVcIik7XHJcbiAgICBpZiAoJChtb3JlKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHZhciB3aW5kb3dXaWR0aCA9ICQod2luZG93KS53aWR0aCgpO1xyXG4gICAgICB2YXIgbW9yZUxlZnRTaWRlVG9QYWdlTGVmdFNpZGUgPSAkKG1vcmUpLm9mZnNldCgpLmxlZnQ7XHJcbiAgICAgIHZhciBtb3JlTGVmdFNpZGVUb1BhZ2VSaWdodFNpZGUgPSB3aW5kb3dXaWR0aCAtIG1vcmVMZWZ0U2lkZVRvUGFnZUxlZnRTaWRlO1xyXG5cclxuICAgICAgaWYgKG1vcmVMZWZ0U2lkZVRvUGFnZVJpZ2h0U2lkZSA8IDMzMCkge1xyXG4gICAgICAgICQoXCIjanMtbmF2aWdhdGlvbi1tb3JlIC5zdWJtZW51IC5zdWJtZW51XCIpLnJlbW92ZUNsYXNzKFwiZmx5LW91dC1yaWdodFwiKTtcclxuICAgICAgICAkKFwiI2pzLW5hdmlnYXRpb24tbW9yZSAuc3VibWVudSAuc3VibWVudVwiKS5hZGRDbGFzcyhcImZseS1vdXQtbGVmdFwiKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKG1vcmVMZWZ0U2lkZVRvUGFnZVJpZ2h0U2lkZSA+IDMzMCkge1xyXG4gICAgICAgICQoXCIjanMtbmF2aWdhdGlvbi1tb3JlIC5zdWJtZW51IC5zdWJtZW51XCIpLnJlbW92ZUNsYXNzKFwiZmx5LW91dC1sZWZ0XCIpO1xyXG4gICAgICAgICQoXCIjanMtbmF2aWdhdGlvbi1tb3JlIC5zdWJtZW51IC5zdWJtZW51XCIpLmFkZENsYXNzKFwiZmx5LW91dC1yaWdodFwiKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuICAgIHZhciBtZW51VG9nZ2xlID0gJChcIiNqcy1tb2JpbGUtbWVudVwiKS51bmJpbmQoKTtcclxuICAgICQoXCIjanMtbmF2aWdhdGlvbi1tZW51XCIpLnJlbW92ZUNsYXNzKFwic2hvd1wiKTtcclxuXHJcbiAgICBtZW51VG9nZ2xlLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSkge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICQoXCIjanMtbmF2aWdhdGlvbi1tZW51XCIpLnNsaWRlVG9nZ2xlKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgaWYoJChcIiNqcy1uYXZpZ2F0aW9uLW1lbnVcIikuaXMoXCI6aGlkZGVuXCIpKSB7XHJcbiAgICAgICAgICAkKFwiI2pzLW5hdmlnYXRpb24tbWVudVwiKS5yZW1vdmVBdHRyKFwic3R5bGVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICB2YXIgZ2xpZGUgPSAkKCcuc2xpZGVyJykuZ2xpZGUoKS5kYXRhKCdhcGlfZ2xpZGUnKTtcclxuXHQkKHdpbmRvdykub24oJ2tleXVwJywgZnVuY3Rpb24gKGtleSkge1xyXG5cdGlmIChrZXkua2V5Q29kZSA9PT0gMTMpIHtcclxuXHRnbGlkZS5qdW1wKDMsIGNvbnNvbGUubG9nKCdXb29vIScpKTtcclxuXHR9O1xyXG5cdH0pO1xyXG5cdCQoJy5zbGlkZXItYXJyb3cnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuXHRjb25zb2xlLmxvZyhnbGlkZS5jdXJyZW50KCkpO1xyXG5cdH0pO1xyXG4gICAgICAgIG15Q2Fyb3VzZWwgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgIHZhciBjYXJvdXNlbCA9IHtcclxuICAgICAgICAgICAgY29udGFpbmVyQ2Fyb3VzZWw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJvdXNlbCcpLFxyXG4gICAgICAgICAgICBsaXN0Q2Fyb3VzZWw6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXJvdXNlbCBsaScpLFxyXG4gICAgICAgICAgICBpdGVtQ2Fyb3VzZWw6IFtdLFxyXG4gICAgICAgICAgICBjb3VudExlZnQ6IDAsXHJcbiAgICAgICAgICAgIGNvdW50UmlnaHQ6IDAsXHJcbiAgICAgICAgICAgIG1heEhlaWd0aDogMCxcclxuICAgICAgICAgICAgcGFnaW5hdGlvbjogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIG1vdmVMZWZ0KCkge1xyXG4gICAgICAgICAgICB2YXIgbGVmdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sZWZ0Jyk7XHJcbiAgICAgICAgICAgIHZhciBjZW50ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2VudGVyJyk7XHJcbiAgICAgICAgICAgIHZhciByaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yaWdodCcpO1xyXG5cclxuICAgICAgICAgICAgbGVmdC5pbm5lckhUTUwgPSBjYXJvdXNlbC5pdGVtQ2Fyb3VzZWxbY2Fyb3VzZWwuY291bnRMZWZ0KytdO1xyXG4gICAgICAgICAgICBpZiAoY2Fyb3VzZWwuY291bnRMZWZ0ID09PSBjYXJvdXNlbC5pdGVtQ2Fyb3VzZWwubGVuZ3RoKSBjYXJvdXNlbC5jb3VudExlZnQgPSAwO1xyXG5cclxuICAgICAgICAgICAgY2Fyb3VzZWwuY291bnRSaWdodCsrO1xyXG4gICAgICAgICAgICBpZiAoY2Fyb3VzZWwuY291bnRSaWdodCA9PT0gY2Fyb3VzZWwuaXRlbUNhcm91c2VsLmxlbmd0aCkgY2Fyb3VzZWwuY291bnRSaWdodCA9IDA7XHJcblxyXG4gICAgICAgICAgICBjZW50ZXIuY2xhc3NOYW1lID0gJ2xlZnQnO1xyXG4gICAgICAgICAgICByaWdodC5jbGFzc05hbWUgPSAnY2VudGVyJztcclxuICAgICAgICAgICAgbGVmdC5jbGFzc05hbWUgPSAncmlnaHQgZmlyc3QnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gbW92ZVJpZ2h0KCkge1xyXG4gICAgICAgICAgICB2YXIgbGVmdCA9IGNhcm91c2VsLmNvbnRhaW5lckNhcm91c2VsLnF1ZXJ5U2VsZWN0b3IoJy5sZWZ0Jyk7XHJcbiAgICAgICAgICAgIHZhciBjZW50ZXIgPSBjYXJvdXNlbC5jb250YWluZXJDYXJvdXNlbC5xdWVyeVNlbGVjdG9yKCcuY2VudGVyJyk7XHJcbiAgICAgICAgICAgIHZhciByaWdodCA9IGNhcm91c2VsLmNvbnRhaW5lckNhcm91c2VsLnF1ZXJ5U2VsZWN0b3IoJy5yaWdodCcpO1xyXG5cclxuICAgICAgICAgICAgcmlnaHQuaW5uZXJIVE1MID0gY2Fyb3VzZWwuaXRlbUNhcm91c2VsW2Nhcm91c2VsLmNvdW50UmlnaHQtLV07XHJcbiAgICAgICAgICAgIGlmIChjYXJvdXNlbC5jb3VudFJpZ2h0ID09IC0xKSBjYXJvdXNlbC5jb3VudFJpZ2h0ID0gY2Fyb3VzZWwuaXRlbUNhcm91c2VsLmxlbmd0aCAtIDE7XHJcblxyXG4gICAgICAgICAgICBjYXJvdXNlbC5jb3VudExlZnQtLTtcclxuICAgICAgICAgICAgaWYgKGNhcm91c2VsLmNvdW50TGVmdCA9PT0gLTEpIGNhcm91c2VsLmNvdW50TGVmdCA9IGNhcm91c2VsLml0ZW1DYXJvdXNlbC5sZW5ndGggLSAxO1xyXG5cclxuICAgICAgICAgICAgY2VudGVyLmNsYXNzTmFtZSA9ICdyaWdodCc7XHJcbiAgICAgICAgICAgIGxlZnQuY2xhc3NOYW1lID0gJ2NlbnRlcic7XHJcbiAgICAgICAgICAgIHJpZ2h0LmNsYXNzTmFtZSA9ICdsZWZ0IGZpcnN0JztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGJ1aWxkQ2Fyb3VzZWwoKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoY2Fyb3VzZWwubGlzdENhcm91c2VsLmxlbmd0aCA+IDIpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjYXJvdXNlbC5saXN0Q2Fyb3VzZWwubGVuZ3RoID09PSAzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2Fyb3VzZWwuY291bnRMZWZ0ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBjYXJvdXNlbC5jb3VudFJpZ2h0ID0gMjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2Fyb3VzZWwuY291bnRMZWZ0ID0gMztcclxuICAgICAgICAgICAgICAgICAgICBjYXJvdXNlbC5jb3VudFJpZ2h0ID0gY2Fyb3VzZWwubGlzdENhcm91c2VsLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IGNhcm91c2VsLmxpc3RDYXJvdXNlbC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjYXJvdXNlbC5tYXhIZWlndGggPCBjYXJvdXNlbC5saXN0Q2Fyb3VzZWxbaV0ub2Zmc2V0SGVpZ2h0KSBjYXJvdXNlbC5tYXhIZWlndGggPSBjYXJvdXNlbC5saXN0Q2Fyb3VzZWxbaV0ub2Zmc2V0SGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgIGNhcm91c2VsLml0ZW1DYXJvdXNlbFtpXSA9IGNhcm91c2VsLmxpc3RDYXJvdXNlbFtpXS5pbm5lckhUTUw7XHJcbiAgICAgICAgICAgICAgICAgICAgY2Fyb3VzZWwubGlzdENhcm91c2VsW2ldLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAyOyBqID49IDA7IGotLSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhcm91c2VsLmNvbnRhaW5lckNhcm91c2VsLmFwcGVuZENoaWxkKGNhcm91c2VsLmxpc3RDYXJvdXNlbFtqXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXJvdXNlbC5saXN0Q2Fyb3VzZWxbMF0uY2xhc3NOYW1lID0gJ2xlZnQnO1xyXG4gICAgICAgICAgICAgICAgY2Fyb3VzZWwubGlzdENhcm91c2VsWzFdLmNsYXNzTmFtZSA9ICdjZW50ZXInO1xyXG4gICAgICAgICAgICAgICAgY2Fyb3VzZWwubGlzdENhcm91c2VsWzJdLmNsYXNzTmFtZSA9ICdyaWdodCc7XHJcblxyXG4gICAgICAgICAgICAgICAgY2Fyb3VzZWwuY29udGFpbmVyQ2Fyb3VzZWwuc3R5bGUuaGVpZ2h0ID0gY2Fyb3VzZWwubWF4SGVpZ3RoICsgJ3B4JztcclxuXHJcbiAgICAgICAgICAgICAgICBhZGRQYWdpbmF0b3IoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gYWRkUGFnaW5hdG9yKCkge1xyXG4gICAgICAgICAgICB2YXIgYnRuTGVmdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxyXG4gICAgICAgICAgICAgICAgYnRuUmlnaHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcbiAgICAgICAgICAgIGJ0bkxlZnQuY2xhc3NOYW1lID0gJ2xlZnQtYnRuJztcclxuICAgICAgICAgICAgYnRuTGVmdC5vbmNsaWNrID0gbW92ZUxlZnQ7XHJcblxyXG4gICAgICAgICAgICBidG5SaWdodC5vbmNsaWNrID0gbW92ZVJpZ2h0O1xyXG4gICAgICAgICAgICBidG5SaWdodC5jbGFzc05hbWUgPSAncmlnaHQtYnRuJztcclxuXHJcbiAgICAgICAgICAgIGNhcm91c2VsLnBhZ2luYXRpb24uY2xhc3NOYW1lID0gJ3BhZ2luYXRvcic7XHJcbiAgICAgICAgICAgIGNhcm91c2VsLnBhZ2luYXRpb24uYXBwZW5kQ2hpbGQoYnRuTGVmdCk7XHJcbiAgICAgICAgICAgIGNhcm91c2VsLnBhZ2luYXRpb24uYXBwZW5kQ2hpbGQoYnRuUmlnaHQpO1xyXG5cclxuICAgICAgICAgICAgY2Fyb3VzZWwuY29udGFpbmVyQ2Fyb3VzZWwucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChjYXJvdXNlbC5wYWdpbmF0aW9uKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHN0YXJ0KCkge1xyXG4gICAgICAgICAgICBidWlsZENhcm91c2VsKCk7XHJcbiAgICAgICAgICAgIHNldEludGVydmFsKG1vdmVMZWZ0LCAxMDAwMDAwMCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGFydCgpO1xyXG4gICAgfVxyXG5cclxuICAgIG15Q2Fyb3VzZWwoKTtcclxuICAgIHZhciBiaXR0ZXJzTWFwID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBteUxhdGxuZyA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmcoNTEuMDg5NzA5LCA3MS40NDc5MjMpLFxyXG4gICAgbWFwQ2VudGVyID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZyg1MS4wODk3MDksIDcxLjQ0NzkyMyksXHJcbiAgICBtYXBDYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFwX2NhbnZhcycpLFxyXG4gICAgbWFwT3B0aW9ucyA9IHtcclxuICAgIGNlbnRlcjogbWFwQ2VudGVyLFxyXG4gICAgem9vbTogMTMsXHJcbiAgICBzY3JvbGx3aGVlbDogZmFsc2UsXHJcbiAgICBkcmFnZ2FibGU6IHRydWUsXHJcbiAgICBkaXNhYmxlRGVmYXVsdFVJOiB0cnVlLFxyXG4gICAgbWFwVHlwZUlkOiBnb29nbGUubWFwcy5NYXBUeXBlSWQuUk9BRE1BUFxyXG4gICAgfSxcclxuICAgIG1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAobWFwQ2FudmFzLCBtYXBPcHRpb25zKSxcclxuICAgIGNvbnRlbnRTdHJpbmcgPVxyXG4gICAgJzxkaXYgaWQ9XCJjb250ZW50XCI+JytcclxuICAgICc8ZGl2IGlkPVwic2l0ZU5vdGljZVwiPicrXHJcbiAgICAnPC9kaXY+JytcclxuICAgICc8aDEgaWQ9XCJmaXJzdEhlYWRpbmdcIiBjbGFzcz1cImZpcnN0SGVhZGluZ1wiPnRob3VnaHRib3Q8L2gxPicrXHJcbiAgICAnPGRpdiBpZD1cImJvZHlDb250ZW50XCInK1xyXG4gICAgJzxwPlN2ZWF2w6RnZW4gOTg8L3A+JytcclxuICAgICc8L2Rpdj4nK1xyXG4gICAgJzwvZGl2PicsXHJcbiAgICBpbmZvd2luZG93ID0gbmV3IGdvb2dsZS5tYXBzLkluZm9XaW5kb3coe1xyXG4gICAgY29udGVudDogY29udGVudFN0cmluZyxcclxuICAgIG1heFdpZHRoOiAzMDBcclxuICAgIH0pLFxyXG4gICAgbWFya2VyID0gbmV3IGdvb2dsZS5tYXBzLk1hcmtlcih7XHJcbiAgICBwb3NpdGlvbjogbXlMYXRsbmcsXHJcbiAgICBtYXA6IG1hcCxcclxuICAgIHRpdGxlOiAndGhvdWdodGJvdCAoU3dlZGVuKSdcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgIG1hcC5zZXQoJ3N0eWxlcycsIFt7XHJcbiAgICBmZWF0dXJlVHlwZTogJ2xhbmRzY2FwZScsXHJcbiAgICBlbGVtZW50VHlwZTogJ2dlb21ldHJ5JyxcclxuICAgIHN0eWxlcnM6IFtcclxuICAgIHsgaHVlOiAnI2ZmZmYwMCcgfSxcclxuICAgIHsgc2F0dXJhdGlvbjogMzAgfSxcclxuICAgIHsgbGlnaHRuZXNzOiAxMH1cclxuICAgIF19XHJcbiAgICBdKTtcclxuICAgIGdvb2dsZS5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKG1hcmtlciwgJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgaW5mb3dpbmRvdy5vcGVuKG1hcCxtYXJrZXIpO1xyXG4gICAgfSk7XHJcbiAgICB9XHJcbiAgICB9O1xyXG4gICAgfSgpKTtcclxuICAgIGJpdHRlcnNNYXAuaW5pdCgpO1xyXG59KVxyXG4iLCIvKlxyXG4gKiBHbGlkZS5qc1xyXG4gKiBWZXI6IDEuMC41XHJcbiAqIFNpbXBsZSwgbGlnaHR3ZWlnaHQgYW5kIGZhc3QgalF1ZXJ5IHNsaWRlclxyXG4gKiB1cmw6IGh0dHA6Ly9qZWRyemVqY2hhbHViZWsuY29tL2dsaWRlXHJcbiAqIEF1dG9yOiBASmVkcnplakNoYWx1YmVrXHJcbiAqIHNpdGU6IGh0dHA6Ly9qZWRyemVqY2hhbHViZWsuY29tXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxyXG4gKi9cclxuOyhmdW5jdGlvbiAoJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkKSB7XHJcblxyXG5cdHZhciBuYW1lID0gJ2dsaWRlJyxcclxuXHRcdGRlZmF1bHRzID0ge1xyXG5cclxuXHRcdFx0Ly8ge0ludCBvciBCb29sfSBGYWxzZSBmb3IgdHVybmluZyBvZmYgYXV0b3BsYXlcclxuXHRcdFx0YXV0b3BsYXk6IGZhbHNlLFxyXG5cdFx0XHQvLyB7Qm9vbH0gUGF1c2UgYXV0b3BsYXkgb24gbW91c2VvdmVyIHNsaWRlclxyXG5cdFx0XHRob3ZlcnBhdXNlOiB0cnVlLFxyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIEFuaW1hdGlvbiB0aW1lXHJcblx0XHRcdCAqICEhISBJTVBPUlRBTlQgISEhXHJcblx0XHRcdCAqIFRoYXQgb3B0aW9uIHdpbGwgYmUgdXNlIG9ubHksIHdoZW4gY3NzMyBhcmUgbm90IHN1cG9ydGVkXHJcblx0XHRcdCAqIElmIGNzczMgYXJlIHN1cHBvcnRlZCBhbmltYXRpb24gdGltZSBpcyBzZXQgaW4gY3NzIGRlY2xhcmF0aW9uIGluc2lkZSAuY3NzIGZpbGVcclxuXHRcdFx0ICogQHR5cGUge0ludH1cclxuXHRcdFx0ICovXHJcblx0XHRcdGFuaW1hdGlvblRpbWU6IDUwMCxcclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiB7Qm9vbCBvciBTdHJpbmd9IFNob3cvaGlkZS9hcHBlbmRUbyBhcnJvd3NcclxuXHRcdFx0ICogVHJ1ZSBmb3IgYXBwZW5kIGFycm93cyB0byBzbGlkZXIgd3JhcHBlclxyXG5cdFx0XHQgKiBGYWxzZSBmb3Igbm90IGFwcGVuZGluZyBhcnJvd3NcclxuXHRcdFx0ICogSWQgb3IgY2xhc3MgbmFtZSAoZS5nLiAnLmNsYXNzLW5hbWUnKSBmb3IgYXBwZW5kaW5nIHRvIHNwZWNpZmljIEhUTUwgbWFya3VwXHJcblx0XHRcdCAqL1xyXG5cdFx0XHRhcnJvd3M6IHRydWUsXHJcblx0XHRcdC8vIHtTdHJpbmd9IEFycm93cyB3cmFwcGVyIGNsYXNzXHJcblx0XHRcdGFycm93c1dyYXBwZXJDbGFzczogJ3NsaWRlci1hcnJvd3MnLFxyXG5cdFx0XHQvLyB7U3RyaW5nfSBNYWluIGNsYXNzIGZvciBib3RoIGFycm93c1xyXG5cdFx0XHRhcnJvd01haW5DbGFzczogJ3NsaWRlci1hcnJvdycsXHJcblx0XHRcdC8vIHtTdHJpbmd9IFJpZ2h0IGFycm93XHJcblx0XHRcdGFycm93UmlnaHRDbGFzczogJ3NsaWRlci1hcnJvdy0tcmlnaHQnLFxyXG5cdFx0XHQvLyB7U3RyaW5nfSBSaWdodCBhcnJvdyB0ZXh0XHJcblx0XHRcdGFycm93UmlnaHRUZXh0OiAnJyxcclxuXHRcdFx0Ly8ge1N0cmluZ30gTGVmdCBhcnJvd1xyXG5cdFx0XHRhcnJvd0xlZnRDbGFzczogJ3NsaWRlci1hcnJvdy0tbGVmdCcsXHJcblx0XHRcdC8vIHtTdHJpbmd9IExlZnQgYXJyb3cgdGV4dFxyXG5cdFx0XHRhcnJvd0xlZnRUZXh0OiAnJyxcclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiB7Qm9vbCBvciBTdHJpbmd9IFNob3cvaGlkZS9hcHBlbmRUbyBidWxsZXRzIG5hdmlnYXRpb25cclxuXHRcdFx0ICogVHJ1ZSBmb3IgYXBwZW5kIGFycm93cyB0byBzbGlkZXIgd3JhcHBlclxyXG5cdFx0XHQgKiBGYWxzZSBmb3Igbm90IGFwcGVuZGluZyBhcnJvd3NcclxuXHRcdFx0ICogSWQgb3IgY2xhc3MgbmFtZSAoZS5nLiAnLmNsYXNzLW5hbWUnKSBmb3IgYXBwZW5kaW5nIHRvIHNwZWNpZmljIEhUTUwgbWFya3VwXHJcblx0XHRcdCAqL1xyXG5cdFx0XHRuYXY6IHRydWUsXHJcblx0XHRcdC8vIHtCb29sfSBDZW50ZXIgYnVsbGV0IG5hdmlnYXRpb25cclxuXHRcdFx0bmF2Q2VudGVyOiB0cnVlLFxyXG5cdFx0XHQvLyB7U3RyaW5nfSBOYXZpZ2F0aW9uIGNsYXNzXHJcblx0XHRcdG5hdkNsYXNzOiAnc2xpZGVyLW5hdicsXHJcblx0XHRcdC8vIHtTdHJpbmd9IE5hdmlnYXRpb24gaXRlbSBjbGFzc1xyXG5cdFx0XHRuYXZJdGVtQ2xhc3M6ICdzbGlkZXItbmF2X19pdGVtJyxcclxuXHRcdFx0Ly8ge1N0cmluZ30gQ3VycmVudCBuYXZpZ2F0aW9uIGl0ZW0gY2xhc3NcclxuXHRcdFx0bmF2Q3VycmVudEl0ZW1DbGFzczogJ3NsaWRlci1uYXZfX2l0ZW0tLWN1cnJlbnQnLFxyXG5cclxuXHRcdFx0Ly8ge0Jvb2x9IFNsaWRlIG9uIGxlZnQvcmlnaHQga2V5Ym9hcmQgYXJyb3dzIHByZXNzXHJcblx0XHRcdGtleWJvYXJkOiB0cnVlLFxyXG5cclxuXHRcdFx0Ly8ge0ludCBvciBCb29sfSBUb3VjaCBzZXR0aW5nc1xyXG5cdFx0XHR0b3VjaERpc3RhbmNlOiA2MCxcclxuXHJcblx0XHRcdC8vIHtGdW5jdGlvbn0gQ2FsbGJhY2sgYmVmb3JlIHBsdWdpbiBpbml0XHJcblx0XHRcdGJlZm9yZUluaXQ6IGZ1bmN0aW9uKCkge30sXHJcblx0XHRcdC8vIHtGdW5jdGlvbn0gQ2FsbGJhY2sgYWZ0ZXIgcGx1Z2luIGluaXRcclxuXHRcdFx0YWZ0ZXJJbml0OiBmdW5jdGlvbigpIHt9LFxyXG5cclxuXHRcdFx0Ly8ge0Z1bmN0aW9ufSBDYWxsYmFjayBiZWZvcmUgc2xpZGUgY2hhbmdlXHJcblx0XHRcdGJlZm9yZVRyYW5zaXRpb246IGZ1bmN0aW9uKCkge30sXHJcblx0XHRcdC8vIHtGdW5jdGlvbn0gQ2FsbGJhY2sgYWZ0ZXIgc2xpZGUgY2hhbmdlXHJcblx0XHRcdGFmdGVyVHJhbnNpdGlvbjogZnVuY3Rpb24oKSB7fVxyXG5cclxuXHRcdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNsaWRlciBDb25zdHJ1Y3RvclxyXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBwYXJlbnRcclxuXHQgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xyXG5cdCAqL1xyXG5cdGZ1bmN0aW9uIEdsaWRlKHBhcmVudCwgb3B0aW9ucykge1xyXG5cclxuXHRcdC8vIENhY2hlIHRoaXNcclxuXHRcdHZhciBfID0gdGhpcztcclxuXHRcdC8vIEV4dGVuZCBvcHRpb25zXHJcblx0XHRfLm9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgZGVmYXVsdHMsIG9wdGlvbnMpO1xyXG5cdFx0Ly8gU2lkZWJhclxyXG5cdFx0Xy5wYXJlbnQgPSBwYXJlbnQ7XHJcblx0XHQvLyBTbGlkZXMgV3JhcHBlclxyXG5cdFx0Xy53cmFwcGVyID0gXy5wYXJlbnQuY2hpbGRyZW4oKTtcclxuXHRcdC8vIFNsaWRlc1xyXG5cdFx0Xy5zbGlkZXMgPSBfLndyYXBwZXIuY2hpbGRyZW4oKTtcclxuXHRcdC8vIEN1cnJlbnQgc2xpZGUgaWRcclxuXHRcdF8uY3VycmVudFNsaWRlID0gMDtcclxuXHRcdC8vIENTUzMgQW5pbWF0aW9uIHN1cHBvcnRcclxuXHRcdF8uQ1NTM3N1cHBvcnQgPSB0cnVlO1xyXG5cclxuXHRcdC8vIENhbGxiYWNrcyBiZWZvcmUgcGx1Z2luIGluaXRcclxuXHRcdF8ub3B0aW9ucy5iZWZvcmVJbml0LmNhbGwoXyk7XHJcblxyXG5cdFx0Ly8gSW5pdGlhbGl6ZVxyXG5cdFx0Xy5pbml0KCk7XHJcblx0XHQvLyBCdWlsZCBET01cclxuXHRcdF8uYnVpbGQoKTtcclxuXHRcdC8vIFN0YXJ0IGF1dG9wbGF5XHJcblx0XHRfLnBsYXkoKTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENvbnRyb2xsZXJcclxuXHRcdCAqIFRvdWNoIGV2ZW50c1xyXG5cdFx0ICovXHJcblx0XHRpZiAoXy5vcHRpb25zLnRvdWNoRGlzdGFuY2UpIHtcclxuXHRcdFx0Ly8gSW5pdCBzd2lwZVxyXG5cdFx0XHRfLnN3aXBlKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDb250cm9sbGVyXHJcblx0XHQgKiBLZXlib2FyZCBsZWZ0IGFuZCByaWdodCBhcnJvdyBrZXlzXHJcblx0XHQgKi9cclxuXHRcdGlmIChfLm9wdGlvbnMua2V5Ym9hcmQpIHtcclxuXHRcdFx0JChkb2N1bWVudCkub24oJ2tleXVwJywgZnVuY3Rpb24oaykge1xyXG5cdFx0XHRcdC8vIE5leHRcclxuXHRcdFx0XHRpZiAoay5rZXlDb2RlID09PSAzOSkgXy5zbGlkZSgxKTtcclxuXHRcdFx0XHQvLyBQcmV2XHJcblx0XHRcdFx0aWYgKGsua2V5Q29kZSA9PT0gMzcpIF8uc2xpZGUoLTEpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENvbnRyb2xsZXJcclxuXHRcdCAqIE1vdXNlIG92ZXIgc2xpZGVyXHJcblx0XHQgKiBXaGVuIG1vdXNlIGlzIG92ZXIgc2xpZGVyLCBwYXVzZSBhdXRvcGxheVxyXG5cdFx0ICogT24gb3V0LCBzdGFydCBhdXRvcGxheSBhZ2FpblxyXG5cdFx0ICovXHJcblx0XHRpZiAoXy5vcHRpb25zLmhvdmVycGF1c2UpIHtcclxuXHRcdFx0Xy5wYXJlbnQuYWRkKF8uYXJyb3dzKS5hZGQoXy5uYXYpLm9uKCdtb3VzZW92ZXIgbW91c2VvdXQnLCBmdW5jdGlvbihlKSB7XHJcblx0XHRcdFx0Ly8gUGFzdWUgYXV0b3BsYXlcclxuXHRcdFx0XHRfLnBhdXNlKCk7XHJcblx0XHRcdFx0Ly8gV2hlbiBtb3VzZSBsZWZ0IHNsaWRlciBvciB0b3VjaCBlbmQsIHN0YXJ0IGF1dG9wbGF5IGFuZXdcclxuXHRcdFx0XHRpZiAoZS50eXBlID09PSAnbW91c2VvdXQnKSBfLnBsYXkoKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDb250cm9sbGVyXHJcblx0XHQgKiBXaGVuIHJlc2l6ZSBicm93c2VyIHdpbmRvd1xyXG5cdFx0ICogUGF1c2UgYXV0b3BsYXkgaW4gZmVhciBvZiBlc2NhbGF0aW9uXHJcblx0XHQgKiBSZWluaXQgcGx1Z2luIGZvciBuZXcgc2xpZGVyIGRpbWVuc2lvbnNcclxuXHRcdCAqIENvcnJlY3QgY3JvcCB0byBjdXJyZW50IHNsaWRlXHJcblx0XHQgKiBTdGFydCBhdXRvcGxheSBmcm9tIGJlZ2lubmluZ1xyXG5cdFx0ICovXHJcblx0XHQkKHdpbmRvdykub24oJ3Jlc2l6ZScsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHQvLyBSZWluaXQgcGx1Z2luIChzZXQgbmV3IHNsaWRlciBkaW1lbnNpb25zKVxyXG5cdFx0XHRfLmluaXQoKTtcclxuXHRcdFx0Ly8gQ3JvcCB0byBjdXJyZW50IHNsaWRlXHJcblx0XHRcdF8uc2xpZGUoMCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyBDYWxsYmFjayBhZnRlciBwbHVnaW4gaW5pdFxyXG5cdFx0Xy5vcHRpb25zLmFmdGVySW5pdC5jYWxsKF8pO1xyXG5cclxuXHRcdC8vIFJldHVybmluZyBBUElcclxuXHRcdHJldHVybiB7XHJcblxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogR2V0IGN1cnJlbnQgc2xpZGUgbnVtYmVyXHJcblx0XHRcdCAqIEByZXR1cm4ge0ludH1cclxuXHRcdFx0ICovXHJcblx0XHRcdGN1cnJlbnQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHJldHVybiAtKF8uY3VycmVudFNsaWRlKSArIDE7XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogU3RhcnQgYXV0b3BsYXlcclxuXHRcdFx0ICovXHJcblx0XHRcdHBsYXk6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdF8ucGxheSgpO1xyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIFN0b3AgYXV0b3BsYXlcclxuXHRcdFx0ICovXHJcblx0XHRcdHBhdXNlOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRfLnBhdXNlKCk7XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogU2xpZGUgb25lIGZvcndhcmRcclxuXHRcdFx0ICogQHBhcmFtICB7RnVuY3Rpb259IGNhbGxiYWNrXHJcblx0XHRcdCAqL1xyXG5cdFx0XHRuZXh0OiBmdW5jdGlvbihjYWxsYmFjaykge1xyXG5cdFx0XHRcdF8uc2xpZGUoMSwgZmFsc2UsIGNhbGxiYWNrKTtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBTbGlkZSBvbmUgYmFja3dhcmRcclxuXHRcdFx0ICogQHBhcmFtICB7RnVuY3Rpb259IGNhbGxiYWNrXHJcblx0XHRcdCAqL1xyXG5cdFx0XHRwcmV2OiBmdW5jdGlvbihjYWxsYmFjaykge1xyXG5cdFx0XHRcdF8uc2xpZGUoLTEsIGZhbHNlLCBjYWxsYmFjayk7XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogSnVtcCB0byBzcGVjaWZlZCBzbGlkZVxyXG5cdFx0XHQgKiBAcGFyYW0gIHtJbnR9ICAgXHQgIGRpc3RhbmNlXHJcblx0XHRcdCAqIEBwYXJhbSAge0Z1bmN0aW9ufSBjYWxsYmFja1xyXG5cdFx0XHQgKi9cclxuXHRcdFx0anVtcDogZnVuY3Rpb24oZGlzdGFuY2UsIGNhbGxiYWNrKSB7XHJcblx0XHRcdFx0Xy5zbGlkZShkaXN0YW5jZS0xLCB0cnVlLCBjYWxsYmFjayk7XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogQXBwZW5kIG5hdmlnYXRpb24gdG8gc3BlY2lmZXQgdGFyZ2V0XHJcblx0XHRcdCAqIEBwYXJhbSAge01peGVkfSB0YXJnZXRcclxuXHRcdFx0ICovXHJcblx0XHRcdG5hdjogZnVuY3Rpb24odGFyZ2V0KSB7XHJcblx0XHRcdFx0LyoqXHJcblx0XHRcdFx0ICogSWYgbmF2aWdhdGlvbiB3cmFwcGVyIGFscmVhZHkgZXhpc3RcclxuXHRcdFx0XHQgKiBSZW1vdmUgaXQsIHByb3RlY3Rpb24gYmVmb3JlIGRvdWJsZWQgbmF2aWdhdGlvblxyXG5cdFx0XHRcdCAqL1xyXG5cdFx0XHRcdGlmIChfLm5hdldyYXBwZXIpIHtcclxuXHRcdFx0XHRcdF8ubmF2V3JhcHBlci5yZW1vdmUoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly8gV2hpbGUgdGFyZ2V0IGlzbid0IHNwZWNpZmVkLCB1c2Ugc2xpZGVyIHdyYXBwZXJcclxuXHRcdFx0XHRfLm9wdGlvbnMubmF2ID0gKHRhcmdldCkgPyB0YXJnZXQgOiBfLm9wdGlvbnMubmF2O1xyXG5cdFx0XHRcdC8vIEJ1aWxkXHJcblx0XHRcdFx0Xy5uYXZpZ2F0aW9uKCk7XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogQXBwZW5kIGFycm93cyB0byBzcGVjaWZldCB0YXJnZXRcclxuXHRcdFx0ICogQHBhcmFtICB7TWl4ZWR9IHRhcmdldFxyXG5cdFx0XHQgKi9cclxuXHRcdFx0YXJyb3dzOiBmdW5jdGlvbih0YXJnZXQpIHtcclxuXHRcdFx0XHQvKipcclxuXHRcdFx0XHQgKiBJZiBhcnJvd3Mgd3JhcHBlciBhbHJlYWR5IGV4aXN0XHJcblx0XHRcdFx0ICogUmVtb3ZlIGl0LCBwcm90ZWN0aW9uIGJlZm9yZSBkb3VibGVkIGFycm93c1xyXG5cdFx0XHRcdCAqL1xyXG5cdFx0XHRcdGlmIChfLmFycm93c1dyYXBwZXIpIHtcclxuXHRcdFx0XHRcdF8uYXJyb3dzV3JhcHBlci5yZW1vdmUoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0Ly8gV2hpbGUgdGFyZ2V0IGlzbid0IHNwZWNpZmVkLCB1c2Ugc2xpZGVyIHdyYXBwZXJcclxuXHRcdFx0XHRfLm9wdGlvbnMuYXJyb3dzID0gKHRhcmdldCkgPyB0YXJnZXQgOiBfLm9wdGlvbnMuYXJyb3dzO1xyXG5cdFx0XHRcdC8vIEJ1aWxkXHJcblx0XHRcdFx0Xy5hcnJvd3MoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdH07XHJcblxyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogQnVpbGRpbmcgc2xpZGVyIERPTVxyXG5cdCAqL1xyXG5cdEdsaWRlLnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uKCkge1xyXG5cclxuXHRcdC8vIENhY2hlIHRoaXNcclxuXHRcdHZhciBfID0gdGhpcztcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIEFycm93c1xyXG5cdFx0ICogSWYgb3B0aW9uIGlzIHRydWUgYW5kIHRoZXJlIGlzIG1vcmUgdGhhbiBvbmUgc2xpZGVcclxuXHRcdCAqIEFwcGVuZCBsZWZ0IGFuZCByaWdodCBhcnJvd1xyXG5cdFx0ICovXHJcblx0XHRpZiAoXy5vcHRpb25zLmFycm93cykgXy5hcnJvd3MoKTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIE5hdmlnYXRpb25cclxuXHRcdCAqIElmIG9wdGlvbiBpcyB0cnVlIGFuZCB0aGVyZSBpcyBtb3JlIHRoYW4gb25lIHNsaWRlXHJcblx0XHQgKiBBcHBlbmQgbmF2aWdhdGlvbiBpdGVtIGZvciBlYWNoIHNsaWRlXHJcblx0XHQgKi9cclxuXHRcdGlmIChfLm9wdGlvbnMubmF2KSBfLm5hdmlnYXRpb24oKTtcclxuXHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogQnVpbGRpbmcgbmF2aWdhdGlvbiBET01cclxuXHQgKi9cclxuXHRHbGlkZS5wcm90b3R5cGUubmF2aWdhdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG5cclxuXHRcdC8vIENhY2hlIHRoaXNcclxuXHRcdHZhciBfID0gdGhpcztcclxuXHJcblx0XHRpZiAoXy5zbGlkZXMubGVuZ3RoID4gMSkge1xyXG5cdFx0XHQvLyBTZXR1cCB2YXJpYWJsZXNcclxuXHRcdFx0dmFyIG8gPSBfLm9wdGlvbnMsXHJcblx0XHRcdFx0LyoqXHJcblx0XHRcdFx0ICogU2V0dGluZyBhcHBlbmQgdGFyZ2V0XHJcblx0XHRcdFx0ICogSWYgb3B0aW9uIGlzIHRydWUgc2V0IGRlZmF1bHQgdGFyZ2V0LCB0aGF0IGlzIHNsaWRlciB3cmFwcGVyXHJcblx0XHRcdFx0ICogRWxzZSBnZXQgdGFyZ2V0IHNldCBpbiBvcHRpb25zXHJcblx0XHRcdFx0ICogQHR5cGUge0Jvb2wgb3IgU3RyaW5nfVxyXG5cdFx0XHRcdCAqL1xyXG5cdFx0XHRcdHRhcmdldCA9IChfLm9wdGlvbnMubmF2ID09PSB0cnVlKSA/IF8ucGFyZW50IDogXy5vcHRpb25zLm5hdjtcclxuXHJcblx0XHRcdC8vIE5hdmlnYXRpb24gd3JhcHBlclxyXG5cdFx0XHRfLm5hdldyYXBwZXIgPSAkKCc8ZGl2IC8+Jywge1xyXG5cdFx0XHRcdCdjbGFzcyc6IG8ubmF2Q2xhc3NcclxuXHRcdFx0fSkuYXBwZW5kVG8odGFyZ2V0KTtcclxuXHJcblx0XHRcdC8vIFNldHVwIHZhcmlhYmxlc1xyXG5cdFx0XHR2YXIgbmF2ID0gXy5uYXZXcmFwcGVyLFxyXG5cdFx0XHRcdGl0ZW07XHJcblxyXG5cdFx0XHQvLyBHZW5lcmF0ZSBuYXZpZ2F0aW9uIGl0ZW1zXHJcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgXy5zbGlkZXMubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRpdGVtID0gJCgnPGEgLz4nLCB7XHJcblx0XHRcdFx0XHQnaHJlZic6ICcjJyxcclxuXHRcdFx0XHRcdCdjbGFzcyc6IG8ubmF2SXRlbUNsYXNzLFxyXG5cdFx0XHRcdFx0Ly8gRGlyZWN0aW9uIGFuZCBkaXN0YW5jZSAtPiBJdGVtIGluZGV4IGZvcndhcmRcclxuXHRcdFx0XHRcdCdkYXRhLWRpc3RhbmNlJzogaVxyXG5cdFx0XHRcdH0pLmFwcGVuZFRvKG5hdik7XHJcblxyXG5cdFx0XHRcdG5hdltpKzFdID0gaXRlbTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gU2V0dXAgdmFyaWFibGVzXHJcblx0XHRcdHZhciBuYXZDaGlsZHJlbiA9IG5hdi5jaGlsZHJlbigpO1xyXG5cclxuXHRcdFx0Ly8gQWRkIG5hdkN1cnJlbnRJdGVtQ2xhc3MgdG8gdGhlIGZpcnN0IG5hdmlnYXRpb24gaXRlbVxyXG5cdFx0XHRuYXZDaGlsZHJlbi5lcSgwKS5hZGRDbGFzcyhvLm5hdkN1cnJlbnRJdGVtQ2xhc3MpO1xyXG5cclxuXHRcdFx0Ly8gSWYgY2VudGVyZWQgb3B0aW9uIGlzIHRydWVcclxuXHRcdFx0aWYgKG8ubmF2Q2VudGVyKSB7XHJcblx0XHRcdFx0Ly8gQ2VudGVyIGJ1bGxldCBuYXZpZ2F0aW9uXHJcblx0XHRcdFx0bmF2LmNzcyh7XHJcblx0XHRcdFx0XHQnbGVmdCc6ICc1MCUnLFxyXG5cdFx0XHRcdFx0J3dpZHRoJzogbmF2Q2hpbGRyZW4ub3V0ZXJXaWR0aCh0cnVlKSAqIG5hdkNoaWxkcmVuLmxlbmd0aCxcclxuXHRcdFx0XHRcdCdtYXJnaW4tbGVmdCc6ICctNjBweCdcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIENvbnRyb2xsZXJcclxuXHRcdFx0ICogT24gY2xpY2sgaW4gYXJyb3dzIG9yIG5hdmlnYXRpb24sIGdldCBkaXJlY3Rpb24gYW5kIGRpc3RhbmNlXHJcblx0XHRcdCAqIFRoZW4gc2xpZGUgc3BlY2lmaWVkIGRpc3RhbmNlXHJcblx0XHRcdCAqL1xyXG5cdFx0XHRuYXZDaGlsZHJlbi5vbignY2xpY2sgdG91Y2hzdGFydCcsIGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0XHQvLyBwcmV2ZW50IG5vcm1hbCBiZWhhdmlvdXJcclxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0Ly8gU2xpZGUgZGlzdGFuY2Ugc3BlY2lmaWVkIGluIGRhdGEgYXR0cmlidXRlXHJcblx0XHRcdFx0Xy5zbGlkZSggJCh0aGlzKS5kYXRhKCdkaXN0YW5jZScpLCB0cnVlICk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBCdWlsZGluZyBhcnJvd3MgRE9NXHJcblx0ICovXHJcblx0R2xpZGUucHJvdG90eXBlLmFycm93cyA9IGZ1bmN0aW9uKCkge1xyXG5cclxuXHRcdC8vIENhY2hlIHRoaXNcclxuXHRcdHZhciBfID0gdGhpcztcclxuXHJcblx0XHRpZiAoXy5zbGlkZXMubGVuZ3RoID4gMSkge1xyXG5cdFx0XHQvLyBTZXR1cCB2YXJpYWJsZXNcclxuXHRcdFx0dmFyIG8gPSBfLm9wdGlvbnMsXHJcblx0XHRcdFx0LyoqXHJcblx0XHRcdFx0ICogU2V0dGluZyBhcHBlbmQgdGFyZ2V0XHJcblx0XHRcdFx0ICogSWYgb3B0aW9uIGlzIHRydWUgc2V0IGRlZmF1bHQgdGFyZ2V0LCB0aGF0IGlzIHNsaWRlciB3cmFwcGVyXHJcblx0XHRcdFx0ICogRWxzZSBnZXQgdGFyZ2V0IHNldCBpbiBvcHRpb25zXHJcblx0XHRcdFx0ICogQHR5cGUge0Jvb2wgb3IgU3RyaW5nfVxyXG5cdFx0XHRcdCAqL1xyXG5cdFx0XHRcdHRhcmdldCA9IChfLm9wdGlvbnMuYXJyb3dzID09PSB0cnVlKSA/IF8ucGFyZW50IDogXy5vcHRpb25zLmFycm93cztcclxuXHJcblx0XHRcdC8vIEFycm93cyB3cmFwcGVyXHJcblx0XHRcdF8uYXJyb3dzV3JhcHBlciA9ICQoJzxkaXYgLz4nLCB7XHJcblx0XHRcdFx0J2NsYXNzJzogby5hcnJvd3NXcmFwcGVyQ2xhc3NcclxuXHRcdFx0fSkuYXBwZW5kVG8odGFyZ2V0KTtcclxuXHJcblx0XHRcdC8vIFNldHVwIHZhcmlhYmxlc1xyXG5cdFx0XHR2YXIgYXJyb3dzID0gXy5hcnJvd3NXcmFwcGVyO1xyXG5cclxuXHRcdFx0Ly8gUmlnaHQgYXJyb3dcclxuXHRcdFx0YXJyb3dzLnJpZ2h0ID0gJCgnPGEgLz4nLCB7XHJcblx0XHRcdFx0J2hyZWYnOiAnIycsXHJcblx0XHRcdFx0J2NsYXNzJzogby5hcnJvd01haW5DbGFzcyArICcgJyArIG8uYXJyb3dSaWdodENsYXNzLFxyXG5cdFx0XHRcdC8vIERpcmVjdGlvbiBhbmQgZGlzdGFuY2UgLT4gT25lIGZvcndhcmRcclxuXHRcdFx0XHQnZGF0YS1kaXN0YW5jZSc6ICcxJyxcclxuXHRcdFx0XHQnaHRtbCc6IG8uYXJyb3dSaWdodFRleHRcclxuXHRcdFx0fSkuYXBwZW5kVG8oYXJyb3dzKTtcclxuXHJcblx0XHRcdC8vIExlZnQgYXJyb3dcclxuXHRcdFx0YXJyb3dzLmxlZnQgPSAkKCc8YSAvPicsIHtcclxuXHRcdFx0XHQnaHJlZic6ICcjJyxcclxuXHRcdFx0XHQnY2xhc3MnOiBvLmFycm93TWFpbkNsYXNzICsgJyAnICsgby5hcnJvd0xlZnRDbGFzcyxcclxuXHRcdFx0XHQvLyBEaXJlY3Rpb24gYW5kIGRpc3RhbmNlIC0+IE9uZSBiYWNrd2FyZFxyXG5cdFx0XHRcdCdkYXRhLWRpc3RhbmNlJzogJy0xJyxcclxuXHRcdFx0XHQnaHRtbCc6IG8uYXJyb3dMZWZ0VGV4dFxyXG5cdFx0XHR9KS5hcHBlbmRUbyhhcnJvd3MpO1xyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIENvbnRyb2xsZXJcclxuXHRcdFx0ICogT24gY2xpY2sgaW4gYXJyb3dzIG9yIG5hdmlnYXRpb24sIGdldCBkaXJlY3Rpb24gYW5kIGRpc3RhbmNlXHJcblx0XHRcdCAqIFRoZW4gc2xpZGUgc3BlY2lmaWVkIGRpc3RhbmNlXHJcblx0XHRcdCAqL1xyXG5cdFx0XHRhcnJvd3MuY2hpbGRyZW4oKS5vbignY2xpY2sgdG91Y2hzdGFydCcsIGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0XHQvLyBwcmV2ZW50IG5vcm1hbCBiZWhhdmlvdXJcclxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0Ly8gU2xpZGUgZGlzdGFuY2Ugc3BlY2lmaWVkIGluIGRhdGEgYXR0cmlidXRlXHJcblx0XHRcdFx0Xy5zbGlkZSggJCh0aGlzKS5kYXRhKCdkaXN0YW5jZScpLCBmYWxzZSApO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0fTtcclxuXHJcblxyXG5cdC8qKlxyXG5cdCAqIFNsaWRlcyBjaGFuZ2UgJiBhbmltYXRlIGxvZ2ljXHJcblx0ICogQHBhcmFtICB7aW50fSBkaXN0YW5jZVxyXG5cdCAqIEBwYXJhbSAge2Jvb2x9IGp1bXBcclxuXHQgKiBAcGFyYW0gIHtmdW5jdGlvbn0gY2FsbGJhY2tcclxuXHQgKi9cclxuXHRHbGlkZS5wcm90b3R5cGUuc2xpZGUgPSBmdW5jdGlvbihkaXN0YW5jZSwganVtcCwgY2FsbGJhY2spIHtcclxuXHJcblx0XHQvLyBDYWNoZSB0aGlzXHJcblx0XHR2YXIgXyA9IHRoaXM7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTdG9wIGF1dG9wbGF5XHJcblx0XHQgKiBDbGVhcmluZyB0aW1lclxyXG5cdFx0ICovXHJcblx0XHRfLnBhdXNlKCk7XHJcblxyXG5cdFx0Ly8gQ2FsbGJhY2tzIGJlZm9yZSBzbGlkZSBjaGFuZ2VcclxuXHRcdF8ub3B0aW9ucy5iZWZvcmVUcmFuc2l0aW9uLmNhbGwoXyk7XHJcblxyXG5cdFx0Ly8gU2V0dXAgdmFyaWFibGVzXHJcblx0XHR2YXJcdGN1cnJlbnRTbGlkZSA9IChqdW1wKSA/IDAgOiBfLmN1cnJlbnRTbGlkZSxcclxuXHRcdFx0c2xpZGVzTGVuZ3RoID0gLShfLnNsaWRlcy5sZW5ndGgtMSksXHJcblx0XHRcdG5hdkN1cnJlbnRDbGFzcyA9IF8ub3B0aW9ucy5uYXZDdXJyZW50SXRlbUNsYXNzLFxyXG5cdFx0XHRzbGlkZXNTcHJlYWQgPSBfLnNsaWRlcy5zcHJlYWQ7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDaGVjayBpZiBjdXJyZW50IHNsaWRlIGlzIGZpcnN0IGFuZCBkaXJlY3Rpb24gaXMgcHJldmlvdXMsIHRoZW4gZ28gdG8gbGFzdCBzbGlkZVxyXG5cdFx0ICogb3IgY3VycmVudCBzbGlkZSBpcyBsYXN0IGFuZCBkaXJlY3Rpb24gaXMgbmV4dCwgdGhlbiBnbyB0byB0aGUgZmlyc3Qgc2xpZGVcclxuXHRcdCAqIGVsc2UgY2hhbmdlIGN1cnJlbnQgc2xpZGUgbm9ybWFsbHlcclxuXHRcdCAqL1xyXG5cdFx0aWYgKCBjdXJyZW50U2xpZGUgPT09IDAgJiYgZGlzdGFuY2UgPT09IC0xICkge1xyXG5cdFx0XHRjdXJyZW50U2xpZGUgPSBzbGlkZXNMZW5ndGg7XHJcblx0XHR9IGVsc2UgaWYgKCBjdXJyZW50U2xpZGUgPT09IHNsaWRlc0xlbmd0aCAmJiBkaXN0YW5jZSA9PT0gMSApIHtcclxuXHRcdFx0Y3VycmVudFNsaWRlID0gMDtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGN1cnJlbnRTbGlkZSA9IGN1cnJlbnRTbGlkZSArICgtZGlzdGFuY2UpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ3JvcCB0byBjdXJyZW50IHNsaWRlLlxyXG5cdFx0ICogTXVsIHNsaWRlIHdpZHRoIGJ5IGN1cnJlbnQgc2xpZGUgbnVtYmVyLlxyXG5cdFx0ICovXHJcblx0XHR2YXIgdHJhbnNsYXRlID0gc2xpZGVzU3ByZWFkICogY3VycmVudFNsaWRlICsgJ3B4JztcclxuXHJcblx0XHQvLyBXaGlsZSBDU1MzIGlzIHN1cHBvcnRlZFxyXG5cdFx0aWYgKF8uQ1NTM3N1cHBvcnQpIHtcclxuXHRcdFx0Ly8gQ3JvcGluZyBieSBpbmNyZWFzaW5nL2RlY3JlYXNpbmcgc2xpZGVyIHdyYXBwZXIgdHJhbnNsYXRlXHJcblx0XHRcdF8ud3JhcHBlci5jc3Moe1xyXG5cdFx0XHRcdCctd2Via2l0LXRyYW5zZm9ybSc6ICd0cmFuc2xhdGUzZCgnICsgdHJhbnNsYXRlICsgJywgMHB4LCAwcHgpJyxcclxuXHRcdFx0XHQgICAnLW1vei10cmFuc2Zvcm0nOiAndHJhbnNsYXRlM2QoJyArIHRyYW5zbGF0ZSArICcsIDBweCwgMHB4KScsXHJcblx0XHRcdFx0ICAgICctbXMtdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZTNkKCcgKyB0cmFuc2xhdGUgKyAnLCAwcHgsIDBweCknLFxyXG5cdFx0XHRcdCAgICAgJy1vLXRyYW5zZm9ybSc6ICd0cmFuc2xhdGUzZCgnICsgdHJhbnNsYXRlICsgJywgMHB4LCAwcHgpJyxcclxuXHRcdFx0XHQgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlM2QoJyArIHRyYW5zbGF0ZSArICcsIDBweCwgMHB4KSdcclxuXHRcdFx0fSk7XHJcblx0XHQvLyBFbHNlIHVzZSAkLmFuaW1hdGUoKVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly8gQ3JvcGluZyBieSBpbmNyZWFzaW5nL2RlY3JlYXNpbmcgc2xpZGVyIHdyYXBwZXIgbWFyZ2luXHJcblx0XHRcdF8ud3JhcHBlci5zdG9wKClcclxuXHRcdFx0XHQuYW5pbWF0ZSh7ICdtYXJnaW4tbGVmdCc6IHRyYW5zbGF0ZSB9LCBfLm9wdGlvbnMuYW5pbWF0aW9uVGltZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gU2V0IHRvIG5hdmlnYXRpb24gaXRlbSBjdXJyZW50IGNsYXNzXHJcblx0XHRpZiAoXy5vcHRpb25zLm5hdiAmJiBfLm5hdldyYXBwZXIpIHtcclxuXHRcdFx0Xy5uYXZXcmFwcGVyLmNoaWxkcmVuKClcclxuXHRcdFx0XHQuZXEoLWN1cnJlbnRTbGlkZSlcclxuXHRcdFx0XHRcdC5hZGRDbGFzcyhuYXZDdXJyZW50Q2xhc3MpXHJcblx0XHRcdFx0XHRcdC5zaWJsaW5ncygpXHJcblx0XHRcdFx0XHRcdFx0LnJlbW92ZUNsYXNzKG5hdkN1cnJlbnRDbGFzcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gVXBkYXRlIGN1cnJlbnQgc2xpZGUgZ2xvYmFseVxyXG5cdFx0Xy5jdXJyZW50U2xpZGUgPSBjdXJyZW50U2xpZGU7XHJcblxyXG5cdFx0Ly8gQ2FsbGJhY2tzIGFmdGVyIHNsaWRlIGNoYW5nZVxyXG5cdFx0Xy5vcHRpb25zLmFmdGVyVHJhbnNpdGlvbi5jYWxsKF8pO1xyXG5cdFx0aWYgKCAoY2FsbGJhY2sgIT09ICd1bmRlZmluZWQnKSAmJiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSApIGNhbGxiYWNrKCk7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBTdGFydCBhdXRvcGxheVxyXG5cdFx0ICogQWZ0ZXIgc2xpZGVcclxuXHRcdCAqL1xyXG5cdFx0Xy5wbGF5KCk7XHJcblxyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEF1dG9wbGF5IGxvZ2ljXHJcblx0ICogU2V0dXAgY291bnRpbmdcclxuXHQgKi9cclxuXHRHbGlkZS5wcm90b3R5cGUucGxheSA9IGZ1bmN0aW9uKCkge1xyXG5cclxuXHRcdC8vIENhY2hlIHRoaXNcclxuXHRcdHZhciBfID0gdGhpcztcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIElmIGF1dG9wbGF5IHR1cm4gb25cclxuXHRcdCAqIFNsaWRlIG9uZSBmb3J3YXJkIGFmdGVyIGEgc2V0IHRpbWVcclxuXHRcdCAqL1xyXG5cdFx0aWYgKF8ub3B0aW9ucy5hdXRvcGxheSkge1xyXG5cdFx0XHRfLmF1dG8gPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRfLnNsaWRlKDEsIGZhbHNlKTtcclxuXHRcdFx0fSwgXy5vcHRpb25zLmF1dG9wbGF5KTtcclxuXHRcdH1cclxuXHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogQXV0b3BsYXkgcGF1c2VcclxuXHQgKiBDbGVhciBjb3VudGluZ1xyXG5cdCAqL1xyXG5cdEdsaWRlLnByb3RvdHlwZS5wYXVzZSA9IGZ1bmN0aW9uKCkge1xyXG5cclxuXHRcdC8vIENhY2hlIHRoaXNcclxuXHRcdHZhciBfID0gdGhpcztcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIElmIGF1dG9wbGF5IHR1cm4gb25cclxuXHRcdCAqIENsZWFyIGludGVyaWFsXHJcblx0XHQgKi9cclxuXHRcdGlmIChfLm9wdGlvbnMuYXV0b3BsYXkpIHtcclxuXHRcdFx0Xy5hdXRvID0gY2xlYXJJbnRlcnZhbChfLmF1dG8pO1xyXG5cdFx0fVxyXG5cclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBDaGFuZ2Ugc2lsZGVzIG9uIHN3aXBlIGV2ZW50XHJcblx0ICovXHJcblx0R2xpZGUucHJvdG90eXBlLnN3aXBlID0gZnVuY3Rpb24oKSB7XHJcblxyXG5cdFx0Ly8gU2V0dXAgdmFyaWFibGVzXHJcblx0XHR2YXIgXyA9IHRoaXMsXHJcblx0XHRcdHRvdWNoLFxyXG5cdFx0XHR0b3VjaERpc3RhbmNlLFxyXG5cdFx0XHR0b3VjaFN0YXJ0WCxcclxuXHRcdFx0dG91Y2hTdGFydFksXHJcblx0XHRcdHRvdWNoRW5kWCxcclxuXHRcdFx0dG91Y2hFbmRZLFxyXG5cdFx0XHR0b3VjaEh5cG90ZW51c2UsXHJcblx0XHRcdHRvdWNoQ2F0aGV0dXMsXHJcblx0XHRcdHRvdWNoU2luLFxyXG5cdFx0XHRNYXRoUEkgPSAxODAgLyBNYXRoLlBJLFxyXG5cdFx0XHRzdWJFeFN4LFxyXG5cdFx0XHRzdWJFeVN5LFxyXG5cdFx0XHRwb3dFWCxcclxuXHRcdFx0cG93RVk7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBUb3VjaCBzdGFydFxyXG5cdFx0ICogQHBhcmFtICB7T2JqZWN0fSBlIGV2ZW50XHJcblx0XHQgKi9cclxuXHRcdF8ucGFyZW50Lm9uKCd0b3VjaHN0YXJ0JywgZnVuY3Rpb24oZSkge1xyXG5cdFx0XHQvLyBDYWNoZSBldmVudFxyXG5cdFx0XHR0b3VjaCA9IGUub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdIHx8IGUub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXTtcclxuXHJcblx0XHRcdC8vIEdldCB0b3VjaCBzdGFydCBwb2ludHNcclxuXHRcdFx0dG91Y2hTdGFydFggPSB0b3VjaC5wYWdlWDtcclxuXHRcdFx0dG91Y2hTdGFydFkgPSB0b3VjaC5wYWdlWTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVG91Y2ggbW92ZVxyXG5cdFx0ICogRnJvbSBzd2lwZSBsZW5ndGggc2VnbWVudHMgY2FsY3VsYXRlIHN3aXBlIGFuZ2xlXHJcblx0XHQgKiBAcGFyYW0gIHtPYmVqY3R9IGUgZXZlbnRcclxuXHRcdCAqL1xyXG5cdFx0Xy5wYXJlbnQub24oJ3RvdWNobW92ZScsIGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0Ly8gQ2FjaGUgZXZlbnRcclxuXHRcdFx0dG91Y2ggPSBlLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXSB8fCBlLm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF07XHJcblxyXG5cdFx0XHQvLyBHZXQgdG91Y2ggZW5kIHBvaW50c1xyXG5cdFx0XHR0b3VjaEVuZFggPSB0b3VjaC5wYWdlWDtcclxuXHRcdFx0dG91Y2hFbmRZID0gdG91Y2gucGFnZVk7XHJcblxyXG5cdFx0XHQvLyBDYWxjdWxhdGUgc3RhcnQsIGVuZCBwb2ludHNcclxuXHRcdFx0c3ViRXhTeCA9IHRvdWNoRW5kWCAtIHRvdWNoU3RhcnRYO1xyXG5cdFx0XHRzdWJFeVN5ID0gdG91Y2hFbmRZIC0gdG91Y2hTdGFydFk7XHJcblx0XHRcdC8vIEJpdHdpc2Ugc3ViRXhTeCBwb3dcclxuXHRcdFx0cG93RVggPSBNYXRoLmFicyggc3ViRXhTeCA8PCAyICk7XHJcblx0XHRcdC8vIEJpdHdpc2Ugc3ViRXlTeSBwb3dcclxuXHRcdFx0cG93RVkgPSBNYXRoLmFicyggc3ViRXlTeSA8PCAyICk7XHJcblxyXG5cdFx0XHQvLyBDYWxjdWxhdGUgdGhlIGxlbmd0aCBvZiB0aGUgaHlwb3RlbnVzZSBzZWdtZW50XHJcblx0XHRcdHRvdWNoSHlwb3RlbnVzZSA9IE1hdGguc3FydCggcG93RVggKyBwb3dFWSApO1xyXG5cdFx0XHQvLyBDYWxjdWxhdGUgdGhlIGxlbmd0aCBvZiB0aGUgY2F0aGV0dXMgc2VnbWVudFxyXG5cdFx0XHR0b3VjaENhdGhldHVzID0gTWF0aC5zcXJ0KCBwb3dFWSApO1xyXG5cdFx0XHQvLyBDYWxjdWxhdGUgdGhlIHNpbmUgb2YgdGhlIGFuZ2xlXHJcblx0XHRcdHRvdWNoU2luID0gTWF0aC5hc2luKCB0b3VjaENhdGhldHVzL3RvdWNoSHlwb3RlbnVzZSApO1xyXG5cclxuXHRcdFx0Ly8gV2hpbGUgdG91Y2ggYW5nbGUgaXMgbG93ZXIgdGhhbiAzMiBkZWdyZWVzLCBibG9jayB2ZXJ0aWNhbCBzY3JvbGxcclxuXHRcdFx0aWYoICh0b3VjaFNpbiAqIE1hdGhQSSkgPCAzMiApIGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogVG91Y2ggZW5kXHJcblx0XHQgKiBAcGFyYW0gIHtPYmplY3R9IGUgZXZlbnRcclxuXHRcdCAqL1xyXG5cdFx0Xy5wYXJlbnQub24oJ3RvdWNoZW5kJywgZnVuY3Rpb24oZSkge1xyXG5cdFx0XHQvLyBDYWNoZSBldmVudFxyXG5cdFx0XHR0b3VjaCA9IGUub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdIHx8IGUub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXTtcclxuXHJcblx0XHRcdC8vIENhbGN1bGF0ZSB0b3VjaCBkaXN0YW5jZVxyXG5cdFx0XHR0b3VjaERpc3RhbmNlID0gdG91Y2gucGFnZVggLSB0b3VjaFN0YXJ0WDtcclxuXHJcblx0XHRcdC8vIFdoaWxlIHRvdWNoIGlzIHBvc2l0aXZlIGFuZCBncmVhdGVyIHRoYW4gZGlzdGFuY2Ugc2V0IGluIG9wdGlvbnNcclxuXHRcdFx0aWYgKCB0b3VjaERpc3RhbmNlID4gXy5vcHRpb25zLnRvdWNoRGlzdGFuY2UgKSB7XHJcblx0XHRcdFx0Ly8gU2xpZGUgb25lIGJhY2t3YXJkXHJcblx0XHRcdFx0Xy5zbGlkZSgtMSk7XHJcblx0XHRcdC8vIFdoaWxlIHRvdWNoIGlzIG5lZ2F0aXZlIGFuZCBsb3dlciB0aGFuIG5lZ2F0aXZlIGRpc3RhbmNlIHNldCBpbiBvcHRpb25zXHJcblx0XHRcdH0gZWxzZSBpZiAoIHRvdWNoRGlzdGFuY2UgPCAtXy5vcHRpb25zLnRvdWNoRGlzdGFuY2UpIHtcclxuXHRcdFx0XHQvLyBTbGlkZSBvbmUgZm9yd2FyZFxyXG5cdFx0XHRcdF8uc2xpZGUoMSk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBJbml0aWFsaXplXHJcblx0ICogR2V0ICYgc2V0IGRpbWVuc2lvbnNcclxuXHQgKiBTZXQgYW5pbWF0aW9uIHR5cGVcclxuXHQgKi9cclxuXHRHbGlkZS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xyXG5cclxuXHRcdC8vIENhY2hlIHRoaXNcclxuXHRcdHZhciBfID0gdGhpcyxcclxuXHRcdFx0Ly8gR2V0IHNpZGViYXIgd2lkdGhcclxuXHRcdFx0c2xpZGVyV2lkdGggPSBfLnBhcmVudC53aWR0aCgpO1xyXG5cdFx0XHQvLyBHZXQgc2xpZGUgd2lkdGhcclxuXHRcdFx0Xy5zbGlkZXMuc3ByZWFkID0gc2xpZGVyV2lkdGg7XHJcblxyXG5cdFx0XHQvLyBTZXQgd3JhcHBlciB3aWR0aFxyXG5cdFx0XHRfLndyYXBwZXIud2lkdGgoc2xpZGVyV2lkdGggKiBfLnNsaWRlcy5sZW5ndGgpO1xyXG5cdFx0XHQvLyBTZXQgc2xpZGUgd2lkdGhcclxuXHRcdFx0Xy5zbGlkZXMud2lkdGgoXy5zbGlkZXMuc3ByZWFkKTtcclxuXHJcblx0XHQvLyBJZiBDU1MzIFRyYW5zaXRpb24gaXNuJ3Qgc3VwcG9ydGVkIHN3aXRjaCBDU1Mzc3VwcG9ydCB2YXJpYWJsZSB0byBmYWxzZSBhbmQgdXNlICQuYW5pbWF0ZSgpXHJcblx0XHRpZiAoICFpc0Nzc1N1cHBvcnRlZChcInRyYW5zaXRpb25cIikgfHwgIWlzQ3NzU3VwcG9ydGVkKFwidHJhbnNmb3JtXCIpICkgXy5DU1Mzc3VwcG9ydCA9IGZhbHNlO1xyXG5cclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBGdW5jdGlvbiB0byBjaGVjayBjc3MzIHN1cHBvcnRcclxuXHQgKiBAcGFyYW0gIHtTdHJpbmd9ICBkZWNsYXJhdGlvbiBuYW1lXHJcblx0ICogQHJldHVybiB7Qm9vbGVhbn1cclxuXHQgKi9cclxuXHRmdW5jdGlvbiBpc0Nzc1N1cHBvcnRlZChkZWNsYXJhdGlvbikge1xyXG5cclxuXHRcdHZhciBpc1N1cHBvcnRlZCA9IGZhbHNlLFxyXG5cdFx0XHRwcmVmaXhlcyA9ICdLaHRtbCBtcyBPIE1veiBXZWJraXQnLnNwbGl0KCcgJyksXHJcblx0XHRcdGNsb25lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXHJcblx0XHRcdGRlY2xhcmF0aW9uQ2FwaXRhbCA9IG51bGw7XHJcblxyXG5cdFx0ZGVjbGFyYXRpb24gPSBkZWNsYXJhdGlvbi50b0xvd2VyQ2FzZSgpO1xyXG5cdFx0aWYgKGNsb25lLnN0eWxlW2RlY2xhcmF0aW9uXSAhPT0gdW5kZWZpbmVkKSBpc1N1cHBvcnRlZCA9IHRydWU7XHJcblx0XHRpZiAoaXNTdXBwb3J0ZWQgPT09IGZhbHNlKSB7XHJcblx0XHRcdGRlY2xhcmF0aW9uQ2FwaXRhbCA9IGRlY2xhcmF0aW9uLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgZGVjbGFyYXRpb24uc3Vic3RyKDEpO1xyXG5cdFx0XHRmb3IoIHZhciBpID0gMDsgaSA8IHByZWZpeGVzLmxlbmd0aDsgaSsrICkge1xyXG5cdFx0XHRcdGlmKCBjbG9uZS5zdHlsZVtwcmVmaXhlc1tpXSArIGRlY2xhcmF0aW9uQ2FwaXRhbCBdICE9PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdFx0XHRpc1N1cHBvcnRlZCA9IHRydWU7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAod2luZG93Lm9wZXJhKSB7XHJcblx0XHRcdGlmICh3aW5kb3cub3BlcmEudmVyc2lvbigpIDwgMTMpIGlzU3VwcG9ydGVkID0gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cclxuXHRcdHJldHVybiBpc1N1cHBvcnRlZDtcclxuXHJcblx0fVxyXG5cclxuXHQkLmZuW25hbWVdID0gZnVuY3Rpb24ob3B0aW9ucykge1xyXG5cclxuXHRcdHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRpZiAoICEkLmRhdGEodGhpcywgJ2FwaV8nICsgbmFtZSkgKSB7XHJcblx0XHRcdFx0JC5kYXRhKHRoaXMsICdhcGlfJyArIG5hbWUsXHJcblx0XHRcdFx0XHRuZXcgR2xpZGUoJCh0aGlzKSwgb3B0aW9ucylcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0fTtcclxuXHJcbn0pKGpRdWVyeSwgd2luZG93LCBkb2N1bWVudCk7XHJcbiJdfQ==
