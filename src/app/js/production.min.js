$(document).ready(function(){var e=$(".slider").glide().data("api_glide");$(window).on("keyup",function(t){13===t.keyCode&&e.jump(3,console.log("Wooo!"))}),$(".slider-arrow").on("click",function(){console.log(e.current())}),myCarousel=function(){function e(){var e=document.querySelector(".left"),t=document.querySelector(".center"),o=document.querySelector(".right");e.innerHTML=a.itemCarousel[a.countLeft++],a.countLeft===a.itemCarousel.length&&(a.countLeft=0),a.countRight++,a.countRight===a.itemCarousel.length&&(a.countRight=0),t.className="left",o.className="center",e.className="right first"}function t(){var e=a.containerCarousel.querySelector(".left"),t=a.containerCarousel.querySelector(".center"),o=a.containerCarousel.querySelector(".right");o.innerHTML=a.itemCarousel[a.countRight--],a.countRight==-1&&(a.countRight=a.itemCarousel.length-1),a.countLeft--,a.countLeft===-1&&(a.countLeft=a.itemCarousel.length-1),t.className="right",e.className="center",o.className="left first"}function o(){if(a.listCarousel.length>2){3===a.listCarousel.length?(a.countLeft=0,a.countRight=2):(a.countLeft=3,a.countRight=a.listCarousel.length-1);for(var e=a.listCarousel.length-1;e>=0;e--)a.maxHeigth<a.listCarousel[e].offsetHeight&&(a.maxHeigth=a.listCarousel[e].offsetHeight),a.itemCarousel[e]=a.listCarousel[e].innerHTML,a.listCarousel[e].remove();for(var t=2;t>=0;t--)a.containerCarousel.appendChild(a.listCarousel[t]);a.listCarousel[0].className="left",a.listCarousel[1].className="center",a.listCarousel[2].className="right",a.containerCarousel.style.height=a.maxHeigth+"px",n()}}function n(){var o=document.createElement("div"),n=document.createElement("div");o.className="btn",o.onclick=e,n.onclick=t,n.className="btn",a.pagination.className="paginator",a.pagination.appendChild(o),a.pagination.appendChild(n),a.containerCarousel.parentNode.appendChild(a.pagination)}function l(){o(),setInterval(e,5e3)}var a={containerCarousel:document.querySelector(".carousel"),listCarousel:document.querySelectorAll(".carousel li"),itemCarousel:[],countLeft:0,countRight:0,maxHeigth:0,pagination:document.createElement("div")};l()},myCarousel()});
!function(t,a,n,r){function e(r,e){var o=this;return o.options=t.extend({},i,e),o.parent=r,o.wrapper=o.parent.children(),o.slides=o.wrapper.children(),o.currentSlide=0,o.CSS3support=!0,o.options.beforeInit.call(o),o.init(),o.build(),o.play(),o.options.touchDistance&&o.swipe(),o.options.keyboard&&t(n).on("keyup",function(t){39===t.keyCode&&o.slide(1),37===t.keyCode&&o.slide(-1)}),o.options.hoverpause&&o.parent.add(o.arrows).add(o.nav).on("mouseover mouseout",function(t){o.pause(),"mouseout"===t.type&&o.play()}),t(a).on("resize",function(){o.init(),o.slide(0)}),o.options.afterInit.call(o),{current:function(){return-o.currentSlide+1},play:function(){o.play()},pause:function(){o.pause()},next:function(t){o.slide(1,!1,t)},prev:function(t){o.slide(-1,!1,t)},jump:function(t,a){o.slide(t-1,!0,a)},nav:function(t){o.navWrapper&&o.navWrapper.remove(),o.options.nav=t?t:o.options.nav,o.navigation()},arrows:function(t){o.arrowsWrapper&&o.arrowsWrapper.remove(),o.options.arrows=t?t:o.options.arrows,o.arrows()}}}function o(t){var e=!1,o="Khtml ms O Moz Webkit".split(" "),s=n.createElement("div"),i=null;if(t=t.toLowerCase(),s.style[t]!==r&&(e=!0),e===!1){i=t.charAt(0).toUpperCase()+t.substr(1);for(var p=0;p<o.length;p++)if(s.style[o[p]+i]!==r){e=!0;break}}return a.opera&&a.opera.version()<13&&(e=!1),e}var s="glide",i={autoplay:!1,hoverpause:!0,animationTime:500,arrows:!0,arrowsWrapperClass:"slider-arrows",arrowMainClass:"slider-arrow",arrowRightClass:"slider-arrow--right",arrowRightText:"",arrowLeftClass:"slider-arrow--left",arrowLeftText:"",nav:!0,navCenter:!0,navClass:"slider-nav",navItemClass:"slider-nav__item",navCurrentItemClass:"slider-nav__item--current",keyboard:!0,touchDistance:60,beforeInit:function(){},afterInit:function(){},beforeTransition:function(){},afterTransition:function(){}};e.prototype.build=function(){var t=this;t.options.arrows&&t.arrows(),t.options.nav&&t.navigation()},e.prototype.navigation=function(){var a=this;if(a.slides.length>1){var n=a.options,r=a.options.nav===!0?a.parent:a.options.nav;a.navWrapper=t("<div />",{"class":n.navClass}).appendTo(r);for(var e,o=a.navWrapper,s=0;s<a.slides.length;s++)e=t("<a />",{href:"#","class":n.navItemClass,"data-distance":s}).appendTo(o),o[s+1]=e;var i=o.children();i.eq(0).addClass(n.navCurrentItemClass),n.navCenter&&o.css({left:"50%",width:i.outerWidth(!0)*i.length,"margin-left":"-60px"}),i.on("click touchstart",function(n){n.preventDefault(),a.slide(t(this).data("distance"),!0)})}},e.prototype.arrows=function(){var a=this;if(a.slides.length>1){var n=a.options,r=a.options.arrows===!0?a.parent:a.options.arrows;a.arrowsWrapper=t("<div />",{"class":n.arrowsWrapperClass}).appendTo(r);var e=a.arrowsWrapper;e.right=t("<a />",{href:"#","class":n.arrowMainClass+" "+n.arrowRightClass,"data-distance":"1",html:n.arrowRightText}).appendTo(e),e.left=t("<a />",{href:"#","class":n.arrowMainClass+" "+n.arrowLeftClass,"data-distance":"-1",html:n.arrowLeftText}).appendTo(e),e.children().on("click touchstart",function(n){n.preventDefault(),a.slide(t(this).data("distance"),!1)})}},e.prototype.slide=function(t,a,n){var r=this;r.pause(),r.options.beforeTransition.call(r);var e=a?0:r.currentSlide,o=-(r.slides.length-1),s=r.options.navCurrentItemClass,i=r.slides.spread;0===e&&t===-1?e=o:e===o&&1===t?e=0:e+=-t;var p=i*e+"px";r.CSS3support?r.wrapper.css({"-webkit-transform":"translate3d("+p+", 0px, 0px)","-moz-transform":"translate3d("+p+", 0px, 0px)","-ms-transform":"translate3d("+p+", 0px, 0px)","-o-transform":"translate3d("+p+", 0px, 0px)",transform:"translate3d("+p+", 0px, 0px)"}):r.wrapper.stop().animate({"margin-left":p},r.options.animationTime),r.options.nav&&r.navWrapper&&r.navWrapper.children().eq(-e).addClass(s).siblings().removeClass(s),r.currentSlide=e,r.options.afterTransition.call(r),"undefined"!==n&&"function"==typeof n&&n(),r.play()},e.prototype.play=function(){var t=this;t.options.autoplay&&(t.auto=setInterval(function(){t.slide(1,!1)},t.options.autoplay))},e.prototype.pause=function(){var t=this;t.options.autoplay&&(t.auto=clearInterval(t.auto))},e.prototype.swipe=function(){var t,a,n,r,e,o,s,i,p,l,u,d,c,f=this,h=180/Math.PI;f.parent.on("touchstart",function(a){t=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0],n=t.pageX,r=t.pageY}),f.parent.on("touchmove",function(a){t=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0],e=t.pageX,o=t.pageY,l=e-n,u=o-r,d=Math.abs(l<<2),c=Math.abs(u<<2),s=Math.sqrt(d+c),i=Math.sqrt(c),p=Math.asin(i/s),p*h<32&&a.preventDefault()}),f.parent.on("touchend",function(r){t=r.originalEvent.touches[0]||r.originalEvent.changedTouches[0],a=t.pageX-n,a>f.options.touchDistance?f.slide(-1):a<-f.options.touchDistance&&f.slide(1)})},e.prototype.init=function(){var t=this,a=t.parent.width();t.slides.spread=a,t.wrapper.width(a*t.slides.length),t.slides.width(t.slides.spread),o("transition")&&o("transform")||(t.CSS3support=!1)},t.fn[s]=function(a){return this.each(function(){t.data(this,"api_"+s)||t.data(this,"api_"+s,new e(t(this),a))})}}(jQuery,window,document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyIsImpxdWVyeS5nbGlkZS5qcyJdLCJuYW1lcyI6WyIkIiwiZG9jdW1lbnQiLCJyZWFkeSIsImdsaWRlIiwiZGF0YSIsIndpbmRvdyIsIm9uIiwia2V5Iiwia2V5Q29kZSIsImp1bXAiLCJjb25zb2xlIiwibG9nIiwiY3VycmVudCIsIm15Q2Fyb3VzZWwiLCJtb3ZlTGVmdCIsImxlZnQiLCJxdWVyeVNlbGVjdG9yIiwiY2VudGVyIiwicmlnaHQiLCJpbm5lckhUTUwiLCJjYXJvdXNlbCIsIml0ZW1DYXJvdXNlbCIsImNvdW50TGVmdCIsImxlbmd0aCIsImNvdW50UmlnaHQiLCJjbGFzc05hbWUiLCJtb3ZlUmlnaHQiLCJjb250YWluZXJDYXJvdXNlbCIsImJ1aWxkQ2Fyb3VzZWwiLCJsaXN0Q2Fyb3VzZWwiLCJpIiwibWF4SGVpZ3RoIiwib2Zmc2V0SGVpZ2h0IiwicmVtb3ZlIiwiaiIsImFwcGVuZENoaWxkIiwic3R5bGUiLCJoZWlnaHQiLCJhZGRQYWdpbmF0b3IiLCJidG5MZWZ0IiwiY3JlYXRlRWxlbWVudCIsImJ0blJpZ2h0Iiwib25jbGljayIsInBhZ2luYXRpb24iLCJwYXJlbnROb2RlIiwic3RhcnQiLCJzZXRJbnRlcnZhbCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ1bmRlZmluZWQiLCJHbGlkZSIsInBhcmVudCIsIm9wdGlvbnMiLCJfIiwidGhpcyIsImV4dGVuZCIsImRlZmF1bHRzIiwid3JhcHBlciIsImNoaWxkcmVuIiwic2xpZGVzIiwiY3VycmVudFNsaWRlIiwiQ1NTM3N1cHBvcnQiLCJiZWZvcmVJbml0IiwiY2FsbCIsImluaXQiLCJidWlsZCIsInBsYXkiLCJ0b3VjaERpc3RhbmNlIiwic3dpcGUiLCJrZXlib2FyZCIsImsiLCJzbGlkZSIsImhvdmVycGF1c2UiLCJhZGQiLCJhcnJvd3MiLCJuYXYiLCJlIiwicGF1c2UiLCJ0eXBlIiwiYWZ0ZXJJbml0IiwibmV4dCIsImNhbGxiYWNrIiwicHJldiIsImRpc3RhbmNlIiwidGFyZ2V0IiwibmF2V3JhcHBlciIsIm5hdmlnYXRpb24iLCJhcnJvd3NXcmFwcGVyIiwiaXNDc3NTdXBwb3J0ZWQiLCJkZWNsYXJhdGlvbiIsImlzU3VwcG9ydGVkIiwicHJlZml4ZXMiLCJzcGxpdCIsImNsb25lIiwiZGVjbGFyYXRpb25DYXBpdGFsIiwidG9Mb3dlckNhc2UiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsInN1YnN0ciIsIm9wZXJhIiwidmVyc2lvbiIsIm5hbWUiLCJhdXRvcGxheSIsImFuaW1hdGlvblRpbWUiLCJhcnJvd3NXcmFwcGVyQ2xhc3MiLCJhcnJvd01haW5DbGFzcyIsImFycm93UmlnaHRDbGFzcyIsImFycm93UmlnaHRUZXh0IiwiYXJyb3dMZWZ0Q2xhc3MiLCJhcnJvd0xlZnRUZXh0IiwibmF2Q2VudGVyIiwibmF2Q2xhc3MiLCJuYXZJdGVtQ2xhc3MiLCJuYXZDdXJyZW50SXRlbUNsYXNzIiwiYmVmb3JlVHJhbnNpdGlvbiIsImFmdGVyVHJhbnNpdGlvbiIsInByb3RvdHlwZSIsIm8iLCJjbGFzcyIsImFwcGVuZFRvIiwiaXRlbSIsImhyZWYiLCJkYXRhLWRpc3RhbmNlIiwibmF2Q2hpbGRyZW4iLCJlcSIsImFkZENsYXNzIiwiY3NzIiwid2lkdGgiLCJvdXRlcldpZHRoIiwibWFyZ2luLWxlZnQiLCJwcmV2ZW50RGVmYXVsdCIsImh0bWwiLCJzbGlkZXNMZW5ndGgiLCJuYXZDdXJyZW50Q2xhc3MiLCJzbGlkZXNTcHJlYWQiLCJzcHJlYWQiLCJ0cmFuc2xhdGUiLCItd2Via2l0LXRyYW5zZm9ybSIsIi1tb3otdHJhbnNmb3JtIiwiLW1zLXRyYW5zZm9ybSIsIi1vLXRyYW5zZm9ybSIsInRyYW5zZm9ybSIsInN0b3AiLCJhbmltYXRlIiwic2libGluZ3MiLCJyZW1vdmVDbGFzcyIsImF1dG8iLCJjbGVhckludGVydmFsIiwidG91Y2giLCJ0b3VjaFN0YXJ0WCIsInRvdWNoU3RhcnRZIiwidG91Y2hFbmRYIiwidG91Y2hFbmRZIiwidG91Y2hIeXBvdGVudXNlIiwidG91Y2hDYXRoZXR1cyIsInRvdWNoU2luIiwic3ViRXhTeCIsInN1YkV5U3kiLCJwb3dFWCIsInBvd0VZIiwiTWF0aFBJIiwiTWF0aCIsIlBJIiwib3JpZ2luYWxFdmVudCIsInRvdWNoZXMiLCJjaGFuZ2VkVG91Y2hlcyIsInBhZ2VYIiwicGFnZVkiLCJhYnMiLCJzcXJ0IiwiYXNpbiIsInNsaWRlcldpZHRoIiwiZm4iLCJlYWNoIiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiQUFBQUEsRUFBRUMsVUFBVUMsTUFBTSxXQUNoQixHQUFJQyxHQUFRSCxFQUFFLFdBQVdHLFFBQVFDLEtBQUssWUFDdkNKLEdBQUVLLFFBQVFDLEdBQUcsUUFBUyxTQUFVQyxHQUNaLEtBQWhCQSxFQUFJQyxTQUNSTCxFQUFNTSxLQUFLLEVBQUdDLFFBQVFDLElBQUksWUFHMUJYLEVBQUUsaUJBQWlCTSxHQUFHLFFBQVMsV0FDL0JJLFFBQVFDLElBQUlSLEVBQU1TLGFBRVhDLFdBQWEsV0FXYixRQUFTQyxLQUNMLEdBQUlDLEdBQU9kLFNBQVNlLGNBQWMsU0FDOUJDLEVBQVNoQixTQUFTZSxjQUFjLFdBQ2hDRSxFQUFRakIsU0FBU2UsY0FBYyxTQUVuQ0QsR0FBS0ksVUFBWUMsRUFBU0MsYUFBYUQsRUFBU0UsYUFDNUNGLEVBQVNFLFlBQWNGLEVBQVNDLGFBQWFFLFNBQVFILEVBQVNFLFVBQVksR0FFOUVGLEVBQVNJLGFBQ0xKLEVBQVNJLGFBQWVKLEVBQVNDLGFBQWFFLFNBQVFILEVBQVNJLFdBQWEsR0FFaEZQLEVBQU9RLFVBQVksT0FDbkJQLEVBQU1PLFVBQVksU0FDbEJWLEVBQUtVLFVBQVksY0FHckIsUUFBU0MsS0FDTCxHQUFJWCxHQUFPSyxFQUFTTyxrQkFBa0JYLGNBQWMsU0FDaERDLEVBQVNHLEVBQVNPLGtCQUFrQlgsY0FBYyxXQUNsREUsRUFBUUUsRUFBU08sa0JBQWtCWCxjQUFjLFNBRXJERSxHQUFNQyxVQUFZQyxFQUFTQyxhQUFhRCxFQUFTSSxjQUM3Q0osRUFBU0ksaUJBQWtCSixFQUFTSSxXQUFhSixFQUFTQyxh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LEtBQU8sV0FHdEIsR0FBSVgsR0FBSUMsS0FFUHFILEVBQWN0SCxFQUFFRixPQUFPNEUsT0FFdkIxRSxHQUFFTSxPQUFPNEUsT0FBU29DLEVBR2xCdEgsRUFBRUksUUFBUXNFLE1BQU00QyxFQUFjdEgsRUFBRU0sT0FBT25DLFFBRXZDNkIsRUFBRU0sT0FBT29FLE1BQU0xRSxFQUFFTSxPQUFPNEUsUUFHbkIvQyxFQUFlLGVBQWtCQSxFQUFlLGVBQWVuQyxFQUFFUSxhQUFjLElBcUN0RjVELEVBQUUySyxHQUFHdkUsR0FBUSxTQUFTakQsR0FFckIsTUFBT0UsTUFBS3VILEtBQUssV0FDVjVLLEVBQUVJLEtBQUtpRCxLQUFNLE9BQVMrQyxJQUMzQnBHLEVBQUVJLEtBQUtpRCxLQUFNLE9BQVMrQyxFQUNyQixHQUFJbkQsR0FBTWpELEVBQUVxRCxNQUFPRixRQU9yQjBILE9BQVF4SyxPQUFRSiIsImZpbGUiOiJwcm9kdWN0aW9uLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XHJcbiAgdmFyIGdsaWRlID0gJCgnLnNsaWRlcicpLmdsaWRlKCkuZGF0YSgnYXBpX2dsaWRlJyk7XHJcblx0JCh3aW5kb3cpLm9uKCdrZXl1cCcsIGZ1bmN0aW9uIChrZXkpIHtcclxuXHRpZiAoa2V5LmtleUNvZGUgPT09IDEzKSB7XHJcblx0Z2xpZGUuanVtcCgzLCBjb25zb2xlLmxvZygnV29vbyEnKSk7XHJcblx0fTtcclxuXHR9KTtcclxuXHQkKCcuc2xpZGVyLWFycm93Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XHJcblx0Y29uc29sZS5sb2coZ2xpZGUuY3VycmVudCgpKTtcclxuXHR9KTtcclxuICAgICAgICBteUNhcm91c2VsID0gZnVuY3Rpb24oKXtcclxuICAgICAgICB2YXIgY2Fyb3VzZWwgPSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lckNhcm91c2VsOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2Fyb3VzZWwnKSxcclxuICAgICAgICAgICAgbGlzdENhcm91c2VsOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2Fyb3VzZWwgbGknKSxcclxuICAgICAgICAgICAgaXRlbUNhcm91c2VsOiBbXSxcclxuICAgICAgICAgICAgY291bnRMZWZ0OiAwLFxyXG4gICAgICAgICAgICBjb3VudFJpZ2h0OiAwLFxyXG4gICAgICAgICAgICBtYXhIZWlndGg6IDAsXHJcbiAgICAgICAgICAgIHBhZ2luYXRpb246IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBtb3ZlTGVmdCgpIHtcclxuICAgICAgICAgICAgdmFyIGxlZnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGVmdCcpO1xyXG4gICAgICAgICAgICB2YXIgY2VudGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNlbnRlcicpO1xyXG4gICAgICAgICAgICB2YXIgcmlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmlnaHQnKTtcclxuXHJcbiAgICAgICAgICAgIGxlZnQuaW5uZXJIVE1MID0gY2Fyb3VzZWwuaXRlbUNhcm91c2VsW2Nhcm91c2VsLmNvdW50TGVmdCsrXTtcclxuICAgICAgICAgICAgaWYgKGNhcm91c2VsLmNvdW50TGVmdCA9PT0gY2Fyb3VzZWwuaXRlbUNhcm91c2VsLmxlbmd0aCkgY2Fyb3VzZWwuY291bnRMZWZ0ID0gMDtcclxuXHJcbiAgICAgICAgICAgIGNhcm91c2VsLmNvdW50UmlnaHQrKztcclxuICAgICAgICAgICAgaWYgKGNhcm91c2VsLmNvdW50UmlnaHQgPT09IGNhcm91c2VsLml0ZW1DYXJvdXNlbC5sZW5ndGgpIGNhcm91c2VsLmNvdW50UmlnaHQgPSAwO1xyXG5cclxuICAgICAgICAgICAgY2VudGVyLmNsYXNzTmFtZSA9ICdsZWZ0JztcclxuICAgICAgICAgICAgcmlnaHQuY2xhc3NOYW1lID0gJ2NlbnRlcic7XHJcbiAgICAgICAgICAgIGxlZnQuY2xhc3NOYW1lID0gJ3JpZ2h0IGZpcnN0JztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIG1vdmVSaWdodCgpIHtcclxuICAgICAgICAgICAgdmFyIGxlZnQgPSBjYXJvdXNlbC5jb250YWluZXJDYXJvdXNlbC5xdWVyeVNlbGVjdG9yKCcubGVmdCcpO1xyXG4gICAgICAgICAgICB2YXIgY2VudGVyID0gY2Fyb3VzZWwuY29udGFpbmVyQ2Fyb3VzZWwucXVlcnlTZWxlY3RvcignLmNlbnRlcicpO1xyXG4gICAgICAgICAgICB2YXIgcmlnaHQgPSBjYXJvdXNlbC5jb250YWluZXJDYXJvdXNlbC5xdWVyeVNlbGVjdG9yKCcucmlnaHQnKTtcclxuXHJcbiAgICAgICAgICAgIHJpZ2h0LmlubmVySFRNTCA9IGNhcm91c2VsLml0ZW1DYXJvdXNlbFtjYXJvdXNlbC5jb3VudFJpZ2h0LS1dO1xyXG4gICAgICAgICAgICBpZiAoY2Fyb3VzZWwuY291bnRSaWdodCA9PSAtMSkgY2Fyb3VzZWwuY291bnRSaWdodCA9IGNhcm91c2VsLml0ZW1DYXJvdXNlbC5sZW5ndGggLSAxO1xyXG5cclxuICAgICAgICAgICAgY2Fyb3VzZWwuY291bnRMZWZ0LS07XHJcbiAgICAgICAgICAgIGlmIChjYXJvdXNlbC5jb3VudExlZnQgPT09IC0xKSBjYXJvdXNlbC5jb3VudExlZnQgPSBjYXJvdXNlbC5pdGVtQ2Fyb3VzZWwubGVuZ3RoIC0gMTtcclxuXHJcbiAgICAgICAgICAgIGNlbnRlci5jbGFzc05hbWUgPSAncmlnaHQnO1xyXG4gICAgICAgICAgICBsZWZ0LmNsYXNzTmFtZSA9ICdjZW50ZXInO1xyXG4gICAgICAgICAgICByaWdodC5jbGFzc05hbWUgPSAnbGVmdCBmaXJzdCc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBidWlsZENhcm91c2VsKCkge1xyXG5cclxuICAgICAgICAgICAgaWYgKGNhcm91c2VsLmxpc3RDYXJvdXNlbC5sZW5ndGggPiAyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2Fyb3VzZWwubGlzdENhcm91c2VsLmxlbmd0aCA9PT0gMykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhcm91c2VsLmNvdW50TGVmdCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgY2Fyb3VzZWwuY291bnRSaWdodCA9IDI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhcm91c2VsLmNvdW50TGVmdCA9IDM7XHJcbiAgICAgICAgICAgICAgICAgICAgY2Fyb3VzZWwuY291bnRSaWdodCA9IGNhcm91c2VsLmxpc3RDYXJvdXNlbC5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBjYXJvdXNlbC5saXN0Q2Fyb3VzZWwubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2Fyb3VzZWwubWF4SGVpZ3RoIDwgY2Fyb3VzZWwubGlzdENhcm91c2VsW2ldLm9mZnNldEhlaWdodCkgY2Fyb3VzZWwubWF4SGVpZ3RoID0gY2Fyb3VzZWwubGlzdENhcm91c2VsW2ldLm9mZnNldEhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICBjYXJvdXNlbC5pdGVtQ2Fyb3VzZWxbaV0gPSBjYXJvdXNlbC5saXN0Q2Fyb3VzZWxbaV0uaW5uZXJIVE1MO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhcm91c2VsLmxpc3RDYXJvdXNlbFtpXS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMjsgaiA+PSAwOyBqLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXJvdXNlbC5jb250YWluZXJDYXJvdXNlbC5hcHBlbmRDaGlsZChjYXJvdXNlbC5saXN0Q2Fyb3VzZWxbal0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2Fyb3VzZWwubGlzdENhcm91c2VsWzBdLmNsYXNzTmFtZSA9ICdsZWZ0JztcclxuICAgICAgICAgICAgICAgIGNhcm91c2VsLmxpc3RDYXJvdXNlbFsxXS5jbGFzc05hbWUgPSAnY2VudGVyJztcclxuICAgICAgICAgICAgICAgIGNhcm91c2VsLmxpc3RDYXJvdXNlbFsyXS5jbGFzc05hbWUgPSAncmlnaHQnO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhcm91c2VsLmNvbnRhaW5lckNhcm91c2VsLnN0eWxlLmhlaWdodCA9IGNhcm91c2VsLm1heEhlaWd0aCArICdweCc7XHJcblxyXG4gICAgICAgICAgICAgICAgYWRkUGFnaW5hdG9yKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFkZFBhZ2luYXRvcigpIHtcclxuICAgICAgICAgICAgdmFyIGJ0bkxlZnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcclxuICAgICAgICAgICAgICAgIGJ0blJpZ2h0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG4gICAgICAgICAgICBidG5MZWZ0LmNsYXNzTmFtZSA9ICdidG4nO1xyXG4gICAgICAgICAgICBidG5MZWZ0Lm9uY2xpY2sgPSBtb3ZlTGVmdDtcclxuXHJcbiAgICAgICAgICAgIGJ0blJpZ2h0Lm9uY2xpY2sgPSBtb3ZlUmlnaHQ7XHJcbiAgICAgICAgICAgIGJ0blJpZ2h0LmNsYXNzTmFtZSA9ICdidG4nO1xyXG5cclxuICAgICAgICAgICAgY2Fyb3VzZWwucGFnaW5hdGlvbi5jbGFzc05hbWUgPSAncGFnaW5hdG9yJztcclxuICAgICAgICAgICAgY2Fyb3VzZWwucGFnaW5hdGlvbi5hcHBlbmRDaGlsZChidG5MZWZ0KTtcclxuICAgICAgICAgICAgY2Fyb3VzZWwucGFnaW5hdGlvbi5hcHBlbmRDaGlsZChidG5SaWdodCk7XHJcblxyXG4gICAgICAgICAgICBjYXJvdXNlbC5jb250YWluZXJDYXJvdXNlbC5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGNhcm91c2VsLnBhZ2luYXRpb24pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc3RhcnQoKSB7XHJcbiAgICAgICAgICAgIGJ1aWxkQ2Fyb3VzZWwoKTtcclxuICAgICAgICAgICAgc2V0SW50ZXJ2YWwobW92ZUxlZnQsIDUwMDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3RhcnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBteUNhcm91c2VsKCk7XHJcbn0pXHJcbiIsIi8qXHJcbiAqIEdsaWRlLmpzXHJcbiAqIFZlcjogMS4wLjVcclxuICogU2ltcGxlLCBsaWdodHdlaWdodCBhbmQgZmFzdCBqUXVlcnkgc2xpZGVyXHJcbiAqIHVybDogaHR0cDovL2plZHJ6ZWpjaGFsdWJlay5jb20vZ2xpZGVcclxuICogQXV0b3I6IEBKZWRyemVqQ2hhbHViZWtcclxuICogc2l0ZTogaHR0cDovL2plZHJ6ZWpjaGFsdWJlay5jb21cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXHJcbiAqL1xyXG47KGZ1bmN0aW9uICgkLCB3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpIHtcclxuXHJcblx0dmFyIG5hbWUgPSAnZ2xpZGUnLFxyXG5cdFx0ZGVmYXVsdHMgPSB7XHJcblxyXG5cdFx0XHQvLyB7SW50IG9yIEJvb2x9IEZhbHNlIGZvciB0dXJuaW5nIG9mZiBhdXRvcGxheVxyXG5cdFx0XHRhdXRvcGxheTogZmFsc2UsXHJcblx0XHRcdC8vIHtCb29sfSBQYXVzZSBhdXRvcGxheSBvbiBtb3VzZW92ZXIgc2xpZGVyXHJcblx0XHRcdGhvdmVycGF1c2U6IHRydWUsXHJcblxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogQW5pbWF0aW9uIHRpbWVcclxuXHRcdFx0ICogISEhIElNUE9SVEFOVCAhISFcclxuXHRcdFx0ICogVGhhdCBvcHRpb24gd2lsbCBiZSB1c2Ugb25seSwgd2hlbiBjc3MzIGFyZSBub3Qgc3Vwb3J0ZWRcclxuXHRcdFx0ICogSWYgY3NzMyBhcmUgc3VwcG9ydGVkIGFuaW1hdGlvbiB0aW1lIGlzIHNldCBpbiBjc3MgZGVjbGFyYXRpb24gaW5zaWRlIC5jc3MgZmlsZVxyXG5cdFx0XHQgKiBAdHlwZSB7SW50fVxyXG5cdFx0XHQgKi9cclxuXHRcdFx0YW5pbWF0aW9uVGltZTogNTAwLFxyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIHtCb29sIG9yIFN0cmluZ30gU2hvdy9oaWRlL2FwcGVuZFRvIGFycm93c1xyXG5cdFx0XHQgKiBUcnVlIGZvciBhcHBlbmQgYXJyb3dzIHRvIHNsaWRlciB3cmFwcGVyXHJcblx0XHRcdCAqIEZhbHNlIGZvciBub3QgYXBwZW5kaW5nIGFycm93c1xyXG5cdFx0XHQgKiBJZCBvciBjbGFzcyBuYW1lIChlLmcuICcuY2xhc3MtbmFtZScpIGZvciBhcHBlbmRpbmcgdG8gc3BlY2lmaWMgSFRNTCBtYXJrdXBcclxuXHRcdFx0ICovXHJcblx0XHRcdGFycm93czogdHJ1ZSxcclxuXHRcdFx0Ly8ge1N0cmluZ30gQXJyb3dzIHdyYXBwZXIgY2xhc3NcclxuXHRcdFx0YXJyb3dzV3JhcHBlckNsYXNzOiAnc2xpZGVyLWFycm93cycsXHJcblx0XHRcdC8vIHtTdHJpbmd9IE1haW4gY2xhc3MgZm9yIGJvdGggYXJyb3dzXHJcblx0XHRcdGFycm93TWFpbkNsYXNzOiAnc2xpZGVyLWFycm93JyxcclxuXHRcdFx0Ly8ge1N0cmluZ30gUmlnaHQgYXJyb3dcclxuXHRcdFx0YXJyb3dSaWdodENsYXNzOiAnc2xpZGVyLWFycm93LS1yaWdodCcsXHJcblx0XHRcdC8vIHtTdHJpbmd9IFJpZ2h0IGFycm93IHRleHRcclxuXHRcdFx0YXJyb3dSaWdodFRleHQ6ICcnLFxyXG5cdFx0XHQvLyB7U3RyaW5nfSBMZWZ0IGFycm93XHJcblx0XHRcdGFycm93TGVmdENsYXNzOiAnc2xpZGVyLWFycm93LS1sZWZ0JyxcclxuXHRcdFx0Ly8ge1N0cmluZ30gTGVmdCBhcnJvdyB0ZXh0XHJcblx0XHRcdGFycm93TGVmdFRleHQ6ICcnLFxyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIHtCb29sIG9yIFN0cmluZ30gU2hvdy9oaWRlL2FwcGVuZFRvIGJ1bGxldHMgbmF2aWdhdGlvblxyXG5cdFx0XHQgKiBUcnVlIGZvciBhcHBlbmQgYXJyb3dzIHRvIHNsaWRlciB3cmFwcGVyXHJcblx0XHRcdCAqIEZhbHNlIGZvciBub3QgYXBwZW5kaW5nIGFycm93c1xyXG5cdFx0XHQgKiBJZCBvciBjbGFzcyBuYW1lIChlLmcuICcuY2xhc3MtbmFtZScpIGZvciBhcHBlbmRpbmcgdG8gc3BlY2lmaWMgSFRNTCBtYXJrdXBcclxuXHRcdFx0ICovXHJcblx0XHRcdG5hdjogdHJ1ZSxcclxuXHRcdFx0Ly8ge0Jvb2x9IENlbnRlciBidWxsZXQgbmF2aWdhdGlvblxyXG5cdFx0XHRuYXZDZW50ZXI6IHRydWUsXHJcblx0XHRcdC8vIHtTdHJpbmd9IE5hdmlnYXRpb24gY2xhc3NcclxuXHRcdFx0bmF2Q2xhc3M6ICdzbGlkZXItbmF2JyxcclxuXHRcdFx0Ly8ge1N0cmluZ30gTmF2aWdhdGlvbiBpdGVtIGNsYXNzXHJcblx0XHRcdG5hdkl0ZW1DbGFzczogJ3NsaWRlci1uYXZfX2l0ZW0nLFxyXG5cdFx0XHQvLyB7U3RyaW5nfSBDdXJyZW50IG5hdmlnYXRpb24gaXRlbSBjbGFzc1xyXG5cdFx0XHRuYXZDdXJyZW50SXRlbUNsYXNzOiAnc2xpZGVyLW5hdl9faXRlbS0tY3VycmVudCcsXHJcblxyXG5cdFx0XHQvLyB7Qm9vbH0gU2xpZGUgb24gbGVmdC9yaWdodCBrZXlib2FyZCBhcnJvd3MgcHJlc3NcclxuXHRcdFx0a2V5Ym9hcmQ6IHRydWUsXHJcblxyXG5cdFx0XHQvLyB7SW50IG9yIEJvb2x9IFRvdWNoIHNldHRpbmdzXHJcblx0XHRcdHRvdWNoRGlzdGFuY2U6IDYwLFxyXG5cclxuXHRcdFx0Ly8ge0Z1bmN0aW9ufSBDYWxsYmFjayBiZWZvcmUgcGx1Z2luIGluaXRcclxuXHRcdFx0YmVmb3JlSW5pdDogZnVuY3Rpb24oKSB7fSxcclxuXHRcdFx0Ly8ge0Z1bmN0aW9ufSBDYWxsYmFjayBhZnRlciBwbHVnaW4gaW5pdFxyXG5cdFx0XHRhZnRlckluaXQ6IGZ1bmN0aW9uKCkge30sXHJcblxyXG5cdFx0XHQvLyB7RnVuY3Rpb259IENhbGxiYWNrIGJlZm9yZSBzbGlkZSBjaGFuZ2VcclxuXHRcdFx0YmVmb3JlVHJhbnNpdGlvbjogZnVuY3Rpb24oKSB7fSxcclxuXHRcdFx0Ly8ge0Z1bmN0aW9ufSBDYWxsYmFjayBhZnRlciBzbGlkZSBjaGFuZ2VcclxuXHRcdFx0YWZ0ZXJUcmFuc2l0aW9uOiBmdW5jdGlvbigpIHt9XHJcblxyXG5cdFx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogU2xpZGVyIENvbnN0cnVjdG9yXHJcblx0ICogQHBhcmFtIHtPYmplY3R9IHBhcmVudFxyXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXHJcblx0ICovXHJcblx0ZnVuY3Rpb24gR2xpZGUocGFyZW50LCBvcHRpb25zKSB7XHJcblxyXG5cdFx0Ly8gQ2FjaGUgdGhpc1xyXG5cdFx0dmFyIF8gPSB0aGlzO1xyXG5cdFx0Ly8gRXh0ZW5kIG9wdGlvbnNcclxuXHRcdF8ub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XHJcblx0XHQvLyBTaWRlYmFyXHJcblx0XHRfLnBhcmVudCA9IHBhcmVudDtcclxuXHRcdC8vIFNsaWRlcyBXcmFwcGVyXHJcblx0XHRfLndyYXBwZXIgPSBfLnBhcmVudC5jaGlsZHJlbigpO1xyXG5cdFx0Ly8gU2xpZGVzXHJcblx0XHRfLnNsaWRlcyA9IF8ud3JhcHBlci5jaGlsZHJlbigpO1xyXG5cdFx0Ly8gQ3VycmVudCBzbGlkZSBpZFxyXG5cdFx0Xy5jdXJyZW50U2xpZGUgPSAwO1xyXG5cdFx0Ly8gQ1NTMyBBbmltYXRpb24gc3VwcG9ydFxyXG5cdFx0Xy5DU1Mzc3VwcG9ydCA9IHRydWU7XHJcblxyXG5cdFx0Ly8gQ2FsbGJhY2tzIGJlZm9yZSBwbHVnaW4gaW5pdFxyXG5cdFx0Xy5vcHRpb25zLmJlZm9yZUluaXQuY2FsbChfKTtcclxuXHJcblx0XHQvLyBJbml0aWFsaXplXHJcblx0XHRfLmluaXQoKTtcclxuXHRcdC8vIEJ1aWxkIERPTVxyXG5cdFx0Xy5idWlsZCgpO1xyXG5cdFx0Ly8gU3RhcnQgYXV0b3BsYXlcclxuXHRcdF8ucGxheSgpO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ29udHJvbGxlclxyXG5cdFx0ICogVG91Y2ggZXZlbnRzXHJcblx0XHQgKi9cclxuXHRcdGlmIChfLm9wdGlvbnMudG91Y2hEaXN0YW5jZSkge1xyXG5cdFx0XHQvLyBJbml0IHN3aXBlXHJcblx0XHRcdF8uc3dpcGUoKTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENvbnRyb2xsZXJcclxuXHRcdCAqIEtleWJvYXJkIGxlZnQgYW5kIHJpZ2h0IGFycm93IGtleXNcclxuXHRcdCAqL1xyXG5cdFx0aWYgKF8ub3B0aW9ucy5rZXlib2FyZCkge1xyXG5cdFx0XHQkKGRvY3VtZW50KS5vbigna2V5dXAnLCBmdW5jdGlvbihrKSB7XHJcblx0XHRcdFx0Ly8gTmV4dFxyXG5cdFx0XHRcdGlmIChrLmtleUNvZGUgPT09IDM5KSBfLnNsaWRlKDEpO1xyXG5cdFx0XHRcdC8vIFByZXZcclxuXHRcdFx0XHRpZiAoay5rZXlDb2RlID09PSAzNykgXy5zbGlkZSgtMSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQ29udHJvbGxlclxyXG5cdFx0ICogTW91c2Ugb3ZlciBzbGlkZXJcclxuXHRcdCAqIFdoZW4gbW91c2UgaXMgb3ZlciBzbGlkZXIsIHBhdXNlIGF1dG9wbGF5XHJcblx0XHQgKiBPbiBvdXQsIHN0YXJ0IGF1dG9wbGF5IGFnYWluXHJcblx0XHQgKi9cclxuXHRcdGlmIChfLm9wdGlvbnMuaG92ZXJwYXVzZSkge1xyXG5cdFx0XHRfLnBhcmVudC5hZGQoXy5hcnJvd3MpLmFkZChfLm5hdikub24oJ21vdXNlb3ZlciBtb3VzZW91dCcsIGZ1bmN0aW9uKGUpIHtcclxuXHRcdFx0XHQvLyBQYXN1ZSBhdXRvcGxheVxyXG5cdFx0XHRcdF8ucGF1c2UoKTtcclxuXHRcdFx0XHQvLyBXaGVuIG1vdXNlIGxlZnQgc2xpZGVyIG9yIHRvdWNoIGVuZCwgc3RhcnQgYXV0b3BsYXkgYW5ld1xyXG5cdFx0XHRcdGlmIChlLnR5cGUgPT09ICdtb3VzZW91dCcpIF8ucGxheSgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENvbnRyb2xsZXJcclxuXHRcdCAqIFdoZW4gcmVzaXplIGJyb3dzZXIgd2luZG93XHJcblx0XHQgKiBQYXVzZSBhdXRvcGxheSBpbiBmZWFyIG9mIGVzY2FsYXRpb25cclxuXHRcdCAqIFJlaW5pdCBwbHVnaW4gZm9yIG5ldyBzbGlkZXIgZGltZW5zaW9uc1xyXG5cdFx0ICogQ29ycmVjdCBjcm9wIHRvIGN1cnJlbnQgc2xpZGVcclxuXHRcdCAqIFN0YXJ0IGF1dG9wbGF5IGZyb20gYmVnaW5uaW5nXHJcblx0XHQgKi9cclxuXHRcdCQod2luZG93KS5vbigncmVzaXplJywgZnVuY3Rpb24oKSB7XHJcblx0XHRcdC8vIFJlaW5pdCBwbHVnaW4gKHNldCBuZXcgc2xpZGVyIGRpbWVuc2lvbnMpXHJcblx0XHRcdF8uaW5pdCgpO1xyXG5cdFx0XHQvLyBDcm9wIHRvIGN1cnJlbnQgc2xpZGVcclxuXHRcdFx0Xy5zbGlkZSgwKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdC8vIENhbGxiYWNrIGFmdGVyIHBsdWdpbiBpbml0XHJcblx0XHRfLm9wdGlvbnMuYWZ0ZXJJbml0LmNhbGwoXyk7XHJcblxyXG5cdFx0Ly8gUmV0dXJuaW5nIEFQSVxyXG5cdFx0cmV0dXJuIHtcclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBHZXQgY3VycmVudCBzbGlkZSBudW1iZXJcclxuXHRcdFx0ICogQHJldHVybiB7SW50fVxyXG5cdFx0XHQgKi9cclxuXHRcdFx0Y3VycmVudDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0cmV0dXJuIC0oXy5jdXJyZW50U2xpZGUpICsgMTtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBTdGFydCBhdXRvcGxheVxyXG5cdFx0XHQgKi9cclxuXHRcdFx0cGxheTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0Xy5wbGF5KCk7XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogU3RvcCBhdXRvcGxheVxyXG5cdFx0XHQgKi9cclxuXHRcdFx0cGF1c2U6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdF8ucGF1c2UoKTtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBTbGlkZSBvbmUgZm9yd2FyZFxyXG5cdFx0XHQgKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2FsbGJhY2tcclxuXHRcdFx0ICovXHJcblx0XHRcdG5leHQ6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcblx0XHRcdFx0Xy5zbGlkZSgxLCBmYWxzZSwgY2FsbGJhY2spO1xyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0LyoqXHJcblx0XHRcdCAqIFNsaWRlIG9uZSBiYWNrd2FyZFxyXG5cdFx0XHQgKiBAcGFyYW0gIHtGdW5jdGlvbn0gY2FsbGJhY2tcclxuXHRcdFx0ICovXHJcblx0XHRcdHByZXY6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcblx0XHRcdFx0Xy5zbGlkZSgtMSwgZmFsc2UsIGNhbGxiYWNrKTtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBKdW1wIHRvIHNwZWNpZmVkIHNsaWRlXHJcblx0XHRcdCAqIEBwYXJhbSAge0ludH0gICBcdCAgZGlzdGFuY2VcclxuXHRcdFx0ICogQHBhcmFtICB7RnVuY3Rpb259IGNhbGxiYWNrXHJcblx0XHRcdCAqL1xyXG5cdFx0XHRqdW1wOiBmdW5jdGlvbihkaXN0YW5jZSwgY2FsbGJhY2spIHtcclxuXHRcdFx0XHRfLnNsaWRlKGRpc3RhbmNlLTEsIHRydWUsIGNhbGxiYWNrKTtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBBcHBlbmQgbmF2aWdhdGlvbiB0byBzcGVjaWZldCB0YXJnZXRcclxuXHRcdFx0ICogQHBhcmFtICB7TWl4ZWR9IHRhcmdldFxyXG5cdFx0XHQgKi9cclxuXHRcdFx0bmF2OiBmdW5jdGlvbih0YXJnZXQpIHtcclxuXHRcdFx0XHQvKipcclxuXHRcdFx0XHQgKiBJZiBuYXZpZ2F0aW9uIHdyYXBwZXIgYWxyZWFkeSBleGlzdFxyXG5cdFx0XHRcdCAqIFJlbW92ZSBpdCwgcHJvdGVjdGlvbiBiZWZvcmUgZG91YmxlZCBuYXZpZ2F0aW9uXHJcblx0XHRcdFx0ICovXHJcblx0XHRcdFx0aWYgKF8ubmF2V3JhcHBlcikge1xyXG5cdFx0XHRcdFx0Xy5uYXZXcmFwcGVyLnJlbW92ZSgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQvLyBXaGlsZSB0YXJnZXQgaXNuJ3Qgc3BlY2lmZWQsIHVzZSBzbGlkZXIgd3JhcHBlclxyXG5cdFx0XHRcdF8ub3B0aW9ucy5uYXYgPSAodGFyZ2V0KSA/IHRhcmdldCA6IF8ub3B0aW9ucy5uYXY7XHJcblx0XHRcdFx0Ly8gQnVpbGRcclxuXHRcdFx0XHRfLm5hdmlnYXRpb24oKTtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdC8qKlxyXG5cdFx0XHQgKiBBcHBlbmQgYXJyb3dzIHRvIHNwZWNpZmV0IHRhcmdldFxyXG5cdFx0XHQgKiBAcGFyYW0gIHtNaXhlZH0gdGFyZ2V0XHJcblx0XHRcdCAqL1xyXG5cdFx0XHRhcnJvd3M6IGZ1bmN0aW9uKHRhcmdldCkge1xyXG5cdFx0XHRcdC8qKlxyXG5cdFx0XHRcdCAqIElmIGFycm93cyB3cmFwcGVyIGFscmVhZHkgZXhpc3RcclxuXHRcdFx0XHQgKiBSZW1vdmUgaXQsIHByb3RlY3Rpb24gYmVmb3JlIGRvdWJsZWQgYXJyb3dzXHJcblx0XHRcdFx0ICovXHJcblx0XHRcdFx0aWYgKF8uYXJyb3dzV3JhcHBlcikge1xyXG5cdFx0XHRcdFx0Xy5hcnJvd3NXcmFwcGVyLnJlbW92ZSgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHQvLyBXaGlsZSB0YXJnZXQgaXNuJ3Qgc3BlY2lmZWQsIHVzZSBzbGlkZXIgd3JhcHBlclxyXG5cdFx0XHRcdF8ub3B0aW9ucy5hcnJvd3MgPSAodGFyZ2V0KSA/IHRhcmdldCA6IF8ub3B0aW9ucy5hcnJvd3M7XHJcblx0XHRcdFx0Ly8gQnVpbGRcclxuXHRcdFx0XHRfLmFycm93cygpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0fTtcclxuXHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBCdWlsZGluZyBzbGlkZXIgRE9NXHJcblx0ICovXHJcblx0R2xpZGUucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24oKSB7XHJcblxyXG5cdFx0Ly8gQ2FjaGUgdGhpc1xyXG5cdFx0dmFyIF8gPSB0aGlzO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogQXJyb3dzXHJcblx0XHQgKiBJZiBvcHRpb24gaXMgdHJ1ZSBhbmQgdGhlcmUgaXMgbW9yZSB0aGFuIG9uZSBzbGlkZVxyXG5cdFx0ICogQXBwZW5kIGxlZnQgYW5kIHJpZ2h0IGFycm93XHJcblx0XHQgKi9cclxuXHRcdGlmIChfLm9wdGlvbnMuYXJyb3dzKSBfLmFycm93cygpO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogTmF2aWdhdGlvblxyXG5cdFx0ICogSWYgb3B0aW9uIGlzIHRydWUgYW5kIHRoZXJlIGlzIG1vcmUgdGhhbiBvbmUgc2xpZGVcclxuXHRcdCAqIEFwcGVuZCBuYXZpZ2F0aW9uIGl0ZW0gZm9yIGVhY2ggc2xpZGVcclxuXHRcdCAqL1xyXG5cdFx0aWYgKF8ub3B0aW9ucy5uYXYpIF8ubmF2aWdhdGlvbigpO1xyXG5cclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBCdWlsZGluZyBuYXZpZ2F0aW9uIERPTVxyXG5cdCAqL1xyXG5cdEdsaWRlLnByb3RvdHlwZS5uYXZpZ2F0aW9uID0gZnVuY3Rpb24oKSB7XHJcblxyXG5cdFx0Ly8gQ2FjaGUgdGhpc1xyXG5cdFx0dmFyIF8gPSB0aGlzO1xyXG5cclxuXHRcdGlmIChfLnNsaWRlcy5sZW5ndGggPiAxKSB7XHJcblx0XHRcdC8vIFNldHVwIHZhcmlhYmxlc1xyXG5cdFx0XHR2YXIgbyA9IF8ub3B0aW9ucyxcclxuXHRcdFx0XHQvKipcclxuXHRcdFx0XHQgKiBTZXR0aW5nIGFwcGVuZCB0YXJnZXRcclxuXHRcdFx0XHQgKiBJZiBvcHRpb24gaXMgdHJ1ZSBzZXQgZGVmYXVsdCB0YXJnZXQsIHRoYXQgaXMgc2xpZGVyIHdyYXBwZXJcclxuXHRcdFx0XHQgKiBFbHNlIGdldCB0YXJnZXQgc2V0IGluIG9wdGlvbnNcclxuXHRcdFx0XHQgKiBAdHlwZSB7Qm9vbCBvciBTdHJpbmd9XHJcblx0XHRcdFx0ICovXHJcblx0XHRcdFx0dGFyZ2V0ID0gKF8ub3B0aW9ucy5uYXYgPT09IHRydWUpID8gXy5wYXJlbnQgOiBfLm9wdGlvbnMubmF2O1xyXG5cclxuXHRcdFx0Ly8gTmF2aWdhdGlvbiB3cmFwcGVyXHJcblx0XHRcdF8ubmF2V3JhcHBlciA9ICQoJzxkaXYgLz4nLCB7XHJcblx0XHRcdFx0J2NsYXNzJzogby5uYXZDbGFzc1xyXG5cdFx0XHR9KS5hcHBlbmRUbyh0YXJnZXQpO1xyXG5cclxuXHRcdFx0Ly8gU2V0dXAgdmFyaWFibGVzXHJcblx0XHRcdHZhciBuYXYgPSBfLm5hdldyYXBwZXIsXHJcblx0XHRcdFx0aXRlbTtcclxuXHJcblx0XHRcdC8vIEdlbmVyYXRlIG5hdmlnYXRpb24gaXRlbXNcclxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBfLnNsaWRlcy5sZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdGl0ZW0gPSAkKCc8YSAvPicsIHtcclxuXHRcdFx0XHRcdCdocmVmJzogJyMnLFxyXG5cdFx0XHRcdFx0J2NsYXNzJzogby5uYXZJdGVtQ2xhc3MsXHJcblx0XHRcdFx0XHQvLyBEaXJlY3Rpb24gYW5kIGRpc3RhbmNlIC0+IEl0ZW0gaW5kZXggZm9yd2FyZFxyXG5cdFx0XHRcdFx0J2RhdGEtZGlzdGFuY2UnOiBpXHJcblx0XHRcdFx0fSkuYXBwZW5kVG8obmF2KTtcclxuXHJcblx0XHRcdFx0bmF2W2krMV0gPSBpdGVtO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBTZXR1cCB2YXJpYWJsZXNcclxuXHRcdFx0dmFyIG5hdkNoaWxkcmVuID0gbmF2LmNoaWxkcmVuKCk7XHJcblxyXG5cdFx0XHQvLyBBZGQgbmF2Q3VycmVudEl0ZW1DbGFzcyB0byB0aGUgZmlyc3QgbmF2aWdhdGlvbiBpdGVtXHJcblx0XHRcdG5hdkNoaWxkcmVuLmVxKDApLmFkZENsYXNzKG8ubmF2Q3VycmVudEl0ZW1DbGFzcyk7XHJcblxyXG5cdFx0XHQvLyBJZiBjZW50ZXJlZCBvcHRpb24gaXMgdHJ1ZVxyXG5cdFx0XHRpZiAoby5uYXZDZW50ZXIpIHtcclxuXHRcdFx0XHQvLyBDZW50ZXIgYnVsbGV0IG5hdmlnYXRpb25cclxuXHRcdFx0XHRuYXYuY3NzKHtcclxuXHRcdFx0XHRcdCdsZWZ0JzogJzUwJScsXHJcblx0XHRcdFx0XHQnd2lkdGgnOiBuYXZDaGlsZHJlbi5vdXRlcldpZHRoKHRydWUpICogbmF2Q2hpbGRyZW4ubGVuZ3RoLFxyXG5cdFx0XHRcdFx0J21hcmdpbi1sZWZ0JzogJy02MHB4J1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogQ29udHJvbGxlclxyXG5cdFx0XHQgKiBPbiBjbGljayBpbiBhcnJvd3Mgb3IgbmF2aWdhdGlvbiwgZ2V0IGRpcmVjdGlvbiBhbmQgZGlzdGFuY2VcclxuXHRcdFx0ICogVGhlbiBzbGlkZSBzcGVjaWZpZWQgZGlzdGFuY2VcclxuXHRcdFx0ICovXHJcblx0XHRcdG5hdkNoaWxkcmVuLm9uKCdjbGljayB0b3VjaHN0YXJ0JywgZnVuY3Rpb24oZSkge1xyXG5cdFx0XHRcdC8vIHByZXZlbnQgbm9ybWFsIGJlaGF2aW91clxyXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHQvLyBTbGlkZSBkaXN0YW5jZSBzcGVjaWZpZWQgaW4gZGF0YSBhdHRyaWJ1dGVcclxuXHRcdFx0XHRfLnNsaWRlKCAkKHRoaXMpLmRhdGEoJ2Rpc3RhbmNlJyksIHRydWUgKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEJ1aWxkaW5nIGFycm93cyBET01cclxuXHQgKi9cclxuXHRHbGlkZS5wcm90b3R5cGUuYXJyb3dzID0gZnVuY3Rpb24oKSB7XHJcblxyXG5cdFx0Ly8gQ2FjaGUgdGhpc1xyXG5cdFx0dmFyIF8gPSB0aGlzO1xyXG5cclxuXHRcdGlmIChfLnNsaWRlcy5sZW5ndGggPiAxKSB7XHJcblx0XHRcdC8vIFNldHVwIHZhcmlhYmxlc1xyXG5cdFx0XHR2YXIgbyA9IF8ub3B0aW9ucyxcclxuXHRcdFx0XHQvKipcclxuXHRcdFx0XHQgKiBTZXR0aW5nIGFwcGVuZCB0YXJnZXRcclxuXHRcdFx0XHQgKiBJZiBvcHRpb24gaXMgdHJ1ZSBzZXQgZGVmYXVsdCB0YXJnZXQsIHRoYXQgaXMgc2xpZGVyIHdyYXBwZXJcclxuXHRcdFx0XHQgKiBFbHNlIGdldCB0YXJnZXQgc2V0IGluIG9wdGlvbnNcclxuXHRcdFx0XHQgKiBAdHlwZSB7Qm9vbCBvciBTdHJpbmd9XHJcblx0XHRcdFx0ICovXHJcblx0XHRcdFx0dGFyZ2V0ID0gKF8ub3B0aW9ucy5hcnJvd3MgPT09IHRydWUpID8gXy5wYXJlbnQgOiBfLm9wdGlvbnMuYXJyb3dzO1xyXG5cclxuXHRcdFx0Ly8gQXJyb3dzIHdyYXBwZXJcclxuXHRcdFx0Xy5hcnJvd3NXcmFwcGVyID0gJCgnPGRpdiAvPicsIHtcclxuXHRcdFx0XHQnY2xhc3MnOiBvLmFycm93c1dyYXBwZXJDbGFzc1xyXG5cdFx0XHR9KS5hcHBlbmRUbyh0YXJnZXQpO1xyXG5cclxuXHRcdFx0Ly8gU2V0dXAgdmFyaWFibGVzXHJcblx0XHRcdHZhciBhcnJvd3MgPSBfLmFycm93c1dyYXBwZXI7XHJcblxyXG5cdFx0XHQvLyBSaWdodCBhcnJvd1xyXG5cdFx0XHRhcnJvd3MucmlnaHQgPSAkKCc8YSAvPicsIHtcclxuXHRcdFx0XHQnaHJlZic6ICcjJyxcclxuXHRcdFx0XHQnY2xhc3MnOiBvLmFycm93TWFpbkNsYXNzICsgJyAnICsgby5hcnJvd1JpZ2h0Q2xhc3MsXHJcblx0XHRcdFx0Ly8gRGlyZWN0aW9uIGFuZCBkaXN0YW5jZSAtPiBPbmUgZm9yd2FyZFxyXG5cdFx0XHRcdCdkYXRhLWRpc3RhbmNlJzogJzEnLFxyXG5cdFx0XHRcdCdodG1sJzogby5hcnJvd1JpZ2h0VGV4dFxyXG5cdFx0XHR9KS5hcHBlbmRUbyhhcnJvd3MpO1xyXG5cclxuXHRcdFx0Ly8gTGVmdCBhcnJvd1xyXG5cdFx0XHRhcnJvd3MubGVmdCA9ICQoJzxhIC8+Jywge1xyXG5cdFx0XHRcdCdocmVmJzogJyMnLFxyXG5cdFx0XHRcdCdjbGFzcyc6IG8uYXJyb3dNYWluQ2xhc3MgKyAnICcgKyBvLmFycm93TGVmdENsYXNzLFxyXG5cdFx0XHRcdC8vIERpcmVjdGlvbiBhbmQgZGlzdGFuY2UgLT4gT25lIGJhY2t3YXJkXHJcblx0XHRcdFx0J2RhdGEtZGlzdGFuY2UnOiAnLTEnLFxyXG5cdFx0XHRcdCdodG1sJzogby5hcnJvd0xlZnRUZXh0XHJcblx0XHRcdH0pLmFwcGVuZFRvKGFycm93cyk7XHJcblxyXG5cdFx0XHQvKipcclxuXHRcdFx0ICogQ29udHJvbGxlclxyXG5cdFx0XHQgKiBPbiBjbGljayBpbiBhcnJvd3Mgb3IgbmF2aWdhdGlvbiwgZ2V0IGRpcmVjdGlvbiBhbmQgZGlzdGFuY2VcclxuXHRcdFx0ICogVGhlbiBzbGlkZSBzcGVjaWZpZWQgZGlzdGFuY2VcclxuXHRcdFx0ICovXHJcblx0XHRcdGFycm93cy5jaGlsZHJlbigpLm9uKCdjbGljayB0b3VjaHN0YXJ0JywgZnVuY3Rpb24oZSkge1xyXG5cdFx0XHRcdC8vIHByZXZlbnQgbm9ybWFsIGJlaGF2aW91clxyXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHQvLyBTbGlkZSBkaXN0YW5jZSBzcGVjaWZpZWQgaW4gZGF0YSBhdHRyaWJ1dGVcclxuXHRcdFx0XHRfLnNsaWRlKCAkKHRoaXMpLmRhdGEoJ2Rpc3RhbmNlJyksIGZhbHNlICk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHR9O1xyXG5cclxuXHJcblx0LyoqXHJcblx0ICogU2xpZGVzIGNoYW5nZSAmIGFuaW1hdGUgbG9naWNcclxuXHQgKiBAcGFyYW0gIHtpbnR9IGRpc3RhbmNlXHJcblx0ICogQHBhcmFtICB7Ym9vbH0ganVtcFxyXG5cdCAqIEBwYXJhbSAge2Z1bmN0aW9ufSBjYWxsYmFja1xyXG5cdCAqL1xyXG5cdEdsaWRlLnByb3RvdHlwZS5zbGlkZSA9IGZ1bmN0aW9uKGRpc3RhbmNlLCBqdW1wLCBjYWxsYmFjaykge1xyXG5cclxuXHRcdC8vIENhY2hlIHRoaXNcclxuXHRcdHZhciBfID0gdGhpcztcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFN0b3AgYXV0b3BsYXlcclxuXHRcdCAqIENsZWFyaW5nIHRpbWVyXHJcblx0XHQgKi9cclxuXHRcdF8ucGF1c2UoKTtcclxuXHJcblx0XHQvLyBDYWxsYmFja3MgYmVmb3JlIHNsaWRlIGNoYW5nZVxyXG5cdFx0Xy5vcHRpb25zLmJlZm9yZVRyYW5zaXRpb24uY2FsbChfKTtcclxuXHJcblx0XHQvLyBTZXR1cCB2YXJpYWJsZXNcclxuXHRcdHZhclx0Y3VycmVudFNsaWRlID0gKGp1bXApID8gMCA6IF8uY3VycmVudFNsaWRlLFxyXG5cdFx0XHRzbGlkZXNMZW5ndGggPSAtKF8uc2xpZGVzLmxlbmd0aC0xKSxcclxuXHRcdFx0bmF2Q3VycmVudENsYXNzID0gXy5vcHRpb25zLm5hdkN1cnJlbnRJdGVtQ2xhc3MsXHJcblx0XHRcdHNsaWRlc1NwcmVhZCA9IF8uc2xpZGVzLnNwcmVhZDtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIENoZWNrIGlmIGN1cnJlbnQgc2xpZGUgaXMgZmlyc3QgYW5kIGRpcmVjdGlvbiBpcyBwcmV2aW91cywgdGhlbiBnbyB0byBsYXN0IHNsaWRlXHJcblx0XHQgKiBvciBjdXJyZW50IHNsaWRlIGlzIGxhc3QgYW5kIGRpcmVjdGlvbiBpcyBuZXh0LCB0aGVuIGdvIHRvIHRoZSBmaXJzdCBzbGlkZVxyXG5cdFx0ICogZWxzZSBjaGFuZ2UgY3VycmVudCBzbGlkZSBub3JtYWxseVxyXG5cdFx0ICovXHJcblx0XHRpZiAoIGN1cnJlbnRTbGlkZSA9PT0gMCAmJiBkaXN0YW5jZSA9PT0gLTEgKSB7XHJcblx0XHRcdGN1cnJlbnRTbGlkZSA9IHNsaWRlc0xlbmd0aDtcclxuXHRcdH0gZWxzZSBpZiAoIGN1cnJlbnRTbGlkZSA9PT0gc2xpZGVzTGVuZ3RoICYmIGRpc3RhbmNlID09PSAxICkge1xyXG5cdFx0XHRjdXJyZW50U2xpZGUgPSAwO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Y3VycmVudFNsaWRlID0gY3VycmVudFNsaWRlICsgKC1kaXN0YW5jZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBDcm9wIHRvIGN1cnJlbnQgc2xpZGUuXHJcblx0XHQgKiBNdWwgc2xpZGUgd2lkdGggYnkgY3VycmVudCBzbGlkZSBudW1iZXIuXHJcblx0XHQgKi9cclxuXHRcdHZhciB0cmFuc2xhdGUgPSBzbGlkZXNTcHJlYWQgKiBjdXJyZW50U2xpZGUgKyAncHgnO1xyXG5cclxuXHRcdC8vIFdoaWxlIENTUzMgaXMgc3VwcG9ydGVkXHJcblx0XHRpZiAoXy5DU1Mzc3VwcG9ydCkge1xyXG5cdFx0XHQvLyBDcm9waW5nIGJ5IGluY3JlYXNpbmcvZGVjcmVhc2luZyBzbGlkZXIgd3JhcHBlciB0cmFuc2xhdGVcclxuXHRcdFx0Xy53cmFwcGVyLmNzcyh7XHJcblx0XHRcdFx0Jy13ZWJraXQtdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZTNkKCcgKyB0cmFuc2xhdGUgKyAnLCAwcHgsIDBweCknLFxyXG5cdFx0XHRcdCAgICctbW96LXRyYW5zZm9ybSc6ICd0cmFuc2xhdGUzZCgnICsgdHJhbnNsYXRlICsgJywgMHB4LCAwcHgpJyxcclxuXHRcdFx0XHQgICAgJy1tcy10cmFuc2Zvcm0nOiAndHJhbnNsYXRlM2QoJyArIHRyYW5zbGF0ZSArICcsIDBweCwgMHB4KScsXHJcblx0XHRcdFx0ICAgICAnLW8tdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZTNkKCcgKyB0cmFuc2xhdGUgKyAnLCAwcHgsIDBweCknLFxyXG5cdFx0XHRcdCAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGUzZCgnICsgdHJhbnNsYXRlICsgJywgMHB4LCAwcHgpJ1xyXG5cdFx0XHR9KTtcclxuXHRcdC8vIEVsc2UgdXNlICQuYW5pbWF0ZSgpXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQvLyBDcm9waW5nIGJ5IGluY3JlYXNpbmcvZGVjcmVhc2luZyBzbGlkZXIgd3JhcHBlciBtYXJnaW5cclxuXHRcdFx0Xy53cmFwcGVyLnN0b3AoKVxyXG5cdFx0XHRcdC5hbmltYXRlKHsgJ21hcmdpbi1sZWZ0JzogdHJhbnNsYXRlIH0sIF8ub3B0aW9ucy5hbmltYXRpb25UaW1lKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBTZXQgdG8gbmF2aWdhdGlvbiBpdGVtIGN1cnJlbnQgY2xhc3NcclxuXHRcdGlmIChfLm9wdGlvbnMubmF2ICYmIF8ubmF2V3JhcHBlcikge1xyXG5cdFx0XHRfLm5hdldyYXBwZXIuY2hpbGRyZW4oKVxyXG5cdFx0XHRcdC5lcSgtY3VycmVudFNsaWRlKVxyXG5cdFx0XHRcdFx0LmFkZENsYXNzKG5hdkN1cnJlbnRDbGFzcylcclxuXHRcdFx0XHRcdFx0LnNpYmxpbmdzKClcclxuXHRcdFx0XHRcdFx0XHQucmVtb3ZlQ2xhc3MobmF2Q3VycmVudENsYXNzKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBVcGRhdGUgY3VycmVudCBzbGlkZSBnbG9iYWx5XHJcblx0XHRfLmN1cnJlbnRTbGlkZSA9IGN1cnJlbnRTbGlkZTtcclxuXHJcblx0XHQvLyBDYWxsYmFja3MgYWZ0ZXIgc2xpZGUgY2hhbmdlXHJcblx0XHRfLm9wdGlvbnMuYWZ0ZXJUcmFuc2l0aW9uLmNhbGwoXyk7XHJcblx0XHRpZiAoIChjYWxsYmFjayAhPT0gJ3VuZGVmaW5lZCcpICYmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpICkgY2FsbGJhY2soKTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFN0YXJ0IGF1dG9wbGF5XHJcblx0XHQgKiBBZnRlciBzbGlkZVxyXG5cdFx0ICovXHJcblx0XHRfLnBsYXkoKTtcclxuXHJcblx0fTtcclxuXHJcblx0LyoqXHJcblx0ICogQXV0b3BsYXkgbG9naWNcclxuXHQgKiBTZXR1cCBjb3VudGluZ1xyXG5cdCAqL1xyXG5cdEdsaWRlLnByb3RvdHlwZS5wbGF5ID0gZnVuY3Rpb24oKSB7XHJcblxyXG5cdFx0Ly8gQ2FjaGUgdGhpc1xyXG5cdFx0dmFyIF8gPSB0aGlzO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogSWYgYXV0b3BsYXkgdHVybiBvblxyXG5cdFx0ICogU2xpZGUgb25lIGZvcndhcmQgYWZ0ZXIgYSBzZXQgdGltZVxyXG5cdFx0ICovXHJcblx0XHRpZiAoXy5vcHRpb25zLmF1dG9wbGF5KSB7XHJcblx0XHRcdF8uYXV0byA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdF8uc2xpZGUoMSwgZmFsc2UpO1xyXG5cdFx0XHR9LCBfLm9wdGlvbnMuYXV0b3BsYXkpO1xyXG5cdFx0fVxyXG5cclxuXHR9O1xyXG5cclxuXHQvKipcclxuXHQgKiBBdXRvcGxheSBwYXVzZVxyXG5cdCAqIENsZWFyIGNvdW50aW5nXHJcblx0ICovXHJcblx0R2xpZGUucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24oKSB7XHJcblxyXG5cdFx0Ly8gQ2FjaGUgdGhpc1xyXG5cdFx0dmFyIF8gPSB0aGlzO1xyXG5cclxuXHRcdC8qKlxyXG5cdFx0ICogSWYgYXV0b3BsYXkgdHVybiBvblxyXG5cdFx0ICogQ2xlYXIgaW50ZXJpYWxcclxuXHRcdCAqL1xyXG5cdFx0aWYgKF8ub3B0aW9ucy5hdXRvcGxheSkge1xyXG5cdFx0XHRfLmF1dG8gPSBjbGVhckludGVydmFsKF8uYXV0byk7XHJcblx0XHR9XHJcblxyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIENoYW5nZSBzaWxkZXMgb24gc3dpcGUgZXZlbnRcclxuXHQgKi9cclxuXHRHbGlkZS5wcm90b3R5cGUuc3dpcGUgPSBmdW5jdGlvbigpIHtcclxuXHJcblx0XHQvLyBTZXR1cCB2YXJpYWJsZXNcclxuXHRcdHZhciBfID0gdGhpcyxcclxuXHRcdFx0dG91Y2gsXHJcblx0XHRcdHRvdWNoRGlzdGFuY2UsXHJcblx0XHRcdHRvdWNoU3RhcnRYLFxyXG5cdFx0XHR0b3VjaFN0YXJ0WSxcclxuXHRcdFx0dG91Y2hFbmRYLFxyXG5cdFx0XHR0b3VjaEVuZFksXHJcblx0XHRcdHRvdWNoSHlwb3RlbnVzZSxcclxuXHRcdFx0dG91Y2hDYXRoZXR1cyxcclxuXHRcdFx0dG91Y2hTaW4sXHJcblx0XHRcdE1hdGhQSSA9IDE4MCAvIE1hdGguUEksXHJcblx0XHRcdHN1YkV4U3gsXHJcblx0XHRcdHN1YkV5U3ksXHJcblx0XHRcdHBvd0VYLFxyXG5cdFx0XHRwb3dFWTtcclxuXHJcblx0XHQvKipcclxuXHRcdCAqIFRvdWNoIHN0YXJ0XHJcblx0XHQgKiBAcGFyYW0gIHtPYmplY3R9IGUgZXZlbnRcclxuXHRcdCAqL1xyXG5cdFx0Xy5wYXJlbnQub24oJ3RvdWNoc3RhcnQnLCBmdW5jdGlvbihlKSB7XHJcblx0XHRcdC8vIENhY2hlIGV2ZW50XHJcblx0XHRcdHRvdWNoID0gZS5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF0gfHwgZS5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdO1xyXG5cclxuXHRcdFx0Ly8gR2V0IHRvdWNoIHN0YXJ0IHBvaW50c1xyXG5cdFx0XHR0b3VjaFN0YXJ0WCA9IHRvdWNoLnBhZ2VYO1xyXG5cdFx0XHR0b3VjaFN0YXJ0WSA9IHRvdWNoLnBhZ2VZO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBUb3VjaCBtb3ZlXHJcblx0XHQgKiBGcm9tIHN3aXBlIGxlbmd0aCBzZWdtZW50cyBjYWxjdWxhdGUgc3dpcGUgYW5nbGVcclxuXHRcdCAqIEBwYXJhbSAge09iZWpjdH0gZSBldmVudFxyXG5cdFx0ICovXHJcblx0XHRfLnBhcmVudC5vbigndG91Y2htb3ZlJywgZnVuY3Rpb24oZSkge1xyXG5cdFx0XHQvLyBDYWNoZSBldmVudFxyXG5cdFx0XHR0b3VjaCA9IGUub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdIHx8IGUub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXTtcclxuXHJcblx0XHRcdC8vIEdldCB0b3VjaCBlbmQgcG9pbnRzXHJcblx0XHRcdHRvdWNoRW5kWCA9IHRvdWNoLnBhZ2VYO1xyXG5cdFx0XHR0b3VjaEVuZFkgPSB0b3VjaC5wYWdlWTtcclxuXHJcblx0XHRcdC8vIENhbGN1bGF0ZSBzdGFydCwgZW5kIHBvaW50c1xyXG5cdFx0XHRzdWJFeFN4ID0gdG91Y2hFbmRYIC0gdG91Y2hTdGFydFg7XHJcblx0XHRcdHN1YkV5U3kgPSB0b3VjaEVuZFkgLSB0b3VjaFN0YXJ0WTtcclxuXHRcdFx0Ly8gQml0d2lzZSBzdWJFeFN4IHBvd1xyXG5cdFx0XHRwb3dFWCA9IE1hdGguYWJzKCBzdWJFeFN4IDw8IDIgKTtcclxuXHRcdFx0Ly8gQml0d2lzZSBzdWJFeVN5IHBvd1xyXG5cdFx0XHRwb3dFWSA9IE1hdGguYWJzKCBzdWJFeVN5IDw8IDIgKTtcclxuXHJcblx0XHRcdC8vIENhbGN1bGF0ZSB0aGUgbGVuZ3RoIG9mIHRoZSBoeXBvdGVudXNlIHNlZ21lbnRcclxuXHRcdFx0dG91Y2hIeXBvdGVudXNlID0gTWF0aC5zcXJ0KCBwb3dFWCArIHBvd0VZICk7XHJcblx0XHRcdC8vIENhbGN1bGF0ZSB0aGUgbGVuZ3RoIG9mIHRoZSBjYXRoZXR1cyBzZWdtZW50XHJcblx0XHRcdHRvdWNoQ2F0aGV0dXMgPSBNYXRoLnNxcnQoIHBvd0VZICk7XHJcblx0XHRcdC8vIENhbGN1bGF0ZSB0aGUgc2luZSBvZiB0aGUgYW5nbGVcclxuXHRcdFx0dG91Y2hTaW4gPSBNYXRoLmFzaW4oIHRvdWNoQ2F0aGV0dXMvdG91Y2hIeXBvdGVudXNlICk7XHJcblxyXG5cdFx0XHQvLyBXaGlsZSB0b3VjaCBhbmdsZSBpcyBsb3dlciB0aGFuIDMyIGRlZ3JlZXMsIGJsb2NrIHZlcnRpY2FsIHNjcm9sbFxyXG5cdFx0XHRpZiggKHRvdWNoU2luICogTWF0aFBJKSA8IDMyICkgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0LyoqXHJcblx0XHQgKiBUb3VjaCBlbmRcclxuXHRcdCAqIEBwYXJhbSAge09iamVjdH0gZSBldmVudFxyXG5cdFx0ICovXHJcblx0XHRfLnBhcmVudC5vbigndG91Y2hlbmQnLCBmdW5jdGlvbihlKSB7XHJcblx0XHRcdC8vIENhY2hlIGV2ZW50XHJcblx0XHRcdHRvdWNoID0gZS5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF0gfHwgZS5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdO1xyXG5cclxuXHRcdFx0Ly8gQ2FsY3VsYXRlIHRvdWNoIGRpc3RhbmNlXHJcblx0XHRcdHRvdWNoRGlzdGFuY2UgPSB0b3VjaC5wYWdlWCAtIHRvdWNoU3RhcnRYO1xyXG5cclxuXHRcdFx0Ly8gV2hpbGUgdG91Y2ggaXMgcG9zaXRpdmUgYW5kIGdyZWF0ZXIgdGhhbiBkaXN0YW5jZSBzZXQgaW4gb3B0aW9uc1xyXG5cdFx0XHRpZiAoIHRvdWNoRGlzdGFuY2UgPiBfLm9wdGlvbnMudG91Y2hEaXN0YW5jZSApIHtcclxuXHRcdFx0XHQvLyBTbGlkZSBvbmUgYmFja3dhcmRcclxuXHRcdFx0XHRfLnNsaWRlKC0xKTtcclxuXHRcdFx0Ly8gV2hpbGUgdG91Y2ggaXMgbmVnYXRpdmUgYW5kIGxvd2VyIHRoYW4gbmVnYXRpdmUgZGlzdGFuY2Ugc2V0IGluIG9wdGlvbnNcclxuXHRcdFx0fSBlbHNlIGlmICggdG91Y2hEaXN0YW5jZSA8IC1fLm9wdGlvbnMudG91Y2hEaXN0YW5jZSkge1xyXG5cdFx0XHRcdC8vIFNsaWRlIG9uZSBmb3J3YXJkXHJcblx0XHRcdFx0Xy5zbGlkZSgxKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEluaXRpYWxpemVcclxuXHQgKiBHZXQgJiBzZXQgZGltZW5zaW9uc1xyXG5cdCAqIFNldCBhbmltYXRpb24gdHlwZVxyXG5cdCAqL1xyXG5cdEdsaWRlLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKSB7XHJcblxyXG5cdFx0Ly8gQ2FjaGUgdGhpc1xyXG5cdFx0dmFyIF8gPSB0aGlzLFxyXG5cdFx0XHQvLyBHZXQgc2lkZWJhciB3aWR0aFxyXG5cdFx0XHRzbGlkZXJXaWR0aCA9IF8ucGFyZW50LndpZHRoKCk7XHJcblx0XHRcdC8vIEdldCBzbGlkZSB3aWR0aFxyXG5cdFx0XHRfLnNsaWRlcy5zcHJlYWQgPSBzbGlkZXJXaWR0aDtcclxuXHJcblx0XHRcdC8vIFNldCB3cmFwcGVyIHdpZHRoXHJcblx0XHRcdF8ud3JhcHBlci53aWR0aChzbGlkZXJXaWR0aCAqIF8uc2xpZGVzLmxlbmd0aCk7XHJcblx0XHRcdC8vIFNldCBzbGlkZSB3aWR0aFxyXG5cdFx0XHRfLnNsaWRlcy53aWR0aChfLnNsaWRlcy5zcHJlYWQpO1xyXG5cclxuXHRcdC8vIElmIENTUzMgVHJhbnNpdGlvbiBpc24ndCBzdXBwb3J0ZWQgc3dpdGNoIENTUzNzdXBwb3J0IHZhcmlhYmxlIHRvIGZhbHNlIGFuZCB1c2UgJC5hbmltYXRlKClcclxuXHRcdGlmICggIWlzQ3NzU3VwcG9ydGVkKFwidHJhbnNpdGlvblwiKSB8fCAhaXNDc3NTdXBwb3J0ZWQoXCJ0cmFuc2Zvcm1cIikgKSBfLkNTUzNzdXBwb3J0ID0gZmFsc2U7XHJcblxyXG5cdH07XHJcblxyXG5cdC8qKlxyXG5cdCAqIEZ1bmN0aW9uIHRvIGNoZWNrIGNzczMgc3VwcG9ydFxyXG5cdCAqIEBwYXJhbSAge1N0cmluZ30gIGRlY2xhcmF0aW9uIG5hbWVcclxuXHQgKiBAcmV0dXJuIHtCb29sZWFufVxyXG5cdCAqL1xyXG5cdGZ1bmN0aW9uIGlzQ3NzU3VwcG9ydGVkKGRlY2xhcmF0aW9uKSB7XHJcblxyXG5cdFx0dmFyIGlzU3VwcG9ydGVkID0gZmFsc2UsXHJcblx0XHRcdHByZWZpeGVzID0gJ0todG1sIG1zIE8gTW96IFdlYmtpdCcuc3BsaXQoJyAnKSxcclxuXHRcdFx0Y2xvbmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcclxuXHRcdFx0ZGVjbGFyYXRpb25DYXBpdGFsID0gbnVsbDtcclxuXHJcblx0XHRkZWNsYXJhdGlvbiA9IGRlY2xhcmF0aW9uLnRvTG93ZXJDYXNlKCk7XHJcblx0XHRpZiAoY2xvbmUuc3R5bGVbZGVjbGFyYXRpb25dICE9PSB1bmRlZmluZWQpIGlzU3VwcG9ydGVkID0gdHJ1ZTtcclxuXHRcdGlmIChpc1N1cHBvcnRlZCA9PT0gZmFsc2UpIHtcclxuXHRcdFx0ZGVjbGFyYXRpb25DYXBpdGFsID0gZGVjbGFyYXRpb24uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBkZWNsYXJhdGlvbi5zdWJzdHIoMSk7XHJcblx0XHRcdGZvciggdmFyIGkgPSAwOyBpIDwgcHJlZml4ZXMubGVuZ3RoOyBpKysgKSB7XHJcblx0XHRcdFx0aWYoIGNsb25lLnN0eWxlW3ByZWZpeGVzW2ldICsgZGVjbGFyYXRpb25DYXBpdGFsIF0gIT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0XHRcdGlzU3VwcG9ydGVkID0gdHJ1ZTtcclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh3aW5kb3cub3BlcmEpIHtcclxuXHRcdFx0aWYgKHdpbmRvdy5vcGVyYS52ZXJzaW9uKCkgPCAxMykgaXNTdXBwb3J0ZWQgPSBmYWxzZTtcclxuXHRcdH1cclxuXHJcblxyXG5cdFx0cmV0dXJuIGlzU3VwcG9ydGVkO1xyXG5cclxuXHR9XHJcblxyXG5cdCQuZm5bbmFtZV0gPSBmdW5jdGlvbihvcHRpb25zKSB7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGlmICggISQuZGF0YSh0aGlzLCAnYXBpXycgKyBuYW1lKSApIHtcclxuXHRcdFx0XHQkLmRhdGEodGhpcywgJ2FwaV8nICsgbmFtZSxcclxuXHRcdFx0XHRcdG5ldyBHbGlkZSgkKHRoaXMpLCBvcHRpb25zKVxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHR9O1xyXG5cclxufSkoalF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KTtcclxuIl19
